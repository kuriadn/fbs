============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 126 items / 50 deselected / 76 selected

tests/test_basic_functionality.py::TestBasicFunctionality::test_user_authentication PASSED [  1%]
tests/test_basic_functionality.py::TestBasicFunctionality::test_user_creation PASSED [  2%]
tests/test_basic_functionality.py::TestBasicFunctionality::test_user_properties PASSED [  3%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_app_only_configuration PASSED [  5%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_dms_configuration PASSED [  6%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_licensing_configuration PASSED [  7%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_full_stack_configuration PASSED [  9%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_graceful_fallbacks PASSED [ 10%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_accounting_models_creation FAILED [ 11%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_bi_models_creation FAILED [ 13%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_compliance_models_creation FAILED [ 14%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_core_models_creation FAILED [ 15%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_discovery_models_creation FAILED [ 17%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_msme_models_creation FAILED [ 18%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_workflow_models_creation FAILED [ 19%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_accounting_service FAILED [ 21%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_auth_service FAILED [ 22%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_bi_service FAILED [ 23%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_cache_service PASSED [ 25%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_compliance_service FAILED [ 26%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_msme_service FAILED [ 27%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_odoo_client FAILED [ 28%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_workflow_service FAILED [ 30%]
tests/test_fbs_app_comprehensive.py::TestFBSAppInterfaces::test_fbs_interface_creation PASSED [ 31%]
tests/test_fbs_app_comprehensive.py::TestFBSAppInterfaces::test_interface_methods SKIPPED [ 32%]
tests/test_fbs_app_comprehensive.py::TestFBSAppMiddleware::test_database_routing_middleware FAILED [ 34%]
tests/test_fbs_app_comprehensive.py::TestFBSAppMiddleware::test_request_logging_middleware FAILED [ 35%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_approval_request_model PASSED [ 36%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_approval_response_model PASSED [ 38%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_business_rule_model PASSED [ 39%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_cache_entry_model PASSED [ 40%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_custom_field_model PASSED [ 42%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_handshake_model PASSED [ 43%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_notification_model PASSED [ 44%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_odoo_database_model PASSED [ 46%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_request_log_model PASSED [ 47%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_token_mapping_model PASSED [ 48%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_analytics_model PASSED [ 50%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_compliance_model PASSED [ 51%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_kpi_model PASSED [ 52%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_marketing_model PASSED [ 53%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_setup_wizard_model PASSED [ 55%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_template_model PASSED [ 56%]
tests/test_fbs_app_models.py::TestFBSAppDiscoveryModels::test_discovery_session_model PASSED [ 57%]
tests/test_fbs_app_models.py::TestFBSAppDiscoveryModels::test_odoo_field_model PASSED [ 59%]
tests/test_fbs_app_models.py::TestFBSAppDiscoveryModels::test_odoo_model_model PASSED [ 60%]
tests/test_fbs_app_models.py::TestFBSAppDiscoveryModels::test_odoo_module_model PASSED [ 61%]
tests/test_fbs_app_models.py::TestFBSAppWorkflowModels::test_workflow_definition_model PASSED [ 63%]
tests/test_fbs_app_models.py::TestFBSAppWorkflowModels::test_workflow_instance_model PASSED [ 64%]
tests/test_fbs_app_models.py::TestFBSAppWorkflowModels::test_workflow_step_model PASSED [ 65%]
tests/test_fbs_app_models.py::TestFBSAppWorkflowModels::test_workflow_transition_model PASSED [ 67%]
tests/test_fbs_app_models.py::TestFBSAppBIModels::test_chart_model PASSED [ 68%]
tests/test_fbs_app_models.py::TestFBSAppBIModels::test_kpi_model PASSED  [ 69%]
tests/test_fbs_app_models.py::TestFBSAppBIModels::test_report_model PASSED [ 71%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_audit_trail_model PASSED [ 72%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_compliance_rule_model PASSED [ 73%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_recurring_transaction_model PASSED [ 75%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_report_schedule_model PASSED [ 76%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_user_activity_log_model PASSED [ 77%]
tests/test_fbs_app_models.py::TestFBSAppAccountingModels::test_basic_ledger_model PASSED [ 78%]
tests/test_fbs_app_models.py::TestFBSAppAccountingModels::test_cash_entry_model PASSED [ 80%]
tests/test_fbs_app_models.py::TestFBSAppAccountingModels::test_income_expense_model PASSED [ 81%]
tests/test_fbs_app_models.py::TestFBSAppAccountingModels::test_tax_calculation_model PASSED [ 82%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_feature_usage_model FAILED [ 84%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_cache PASSED [ 85%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_class_methods PASSED [ 86%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_creation FAILED [ 88%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_encryption PASSED [ 89%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry FAILED [ 90%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_features PASSED [ 92%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_feature_flags_service PASSED [ 93%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_creation PASSED [ 94%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_feature_checking FAILED [ 96%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_license_info FAILED [ 97%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_odoo_integration PASSED [ 98%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_upgrade_prompts_service FAILED [100%]

=================================== FAILURES ===================================
_______________ TestFBSAppModels.test_accounting_models_creation _______________
tests/test_fbs_app_comprehensive.py:405: in test_accounting_models_creation
    cash_entry = CashEntry.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: CashEntry() got unexpected keyword arguments: 'date', 'reference'
___________________ TestFBSAppModels.test_bi_models_creation ___________________
tests/test_fbs_app_comprehensive.py:320: in test_bi_models_creation
    report = Report.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: Report() got unexpected keyword arguments: 'schedule'
_______________ TestFBSAppModels.test_compliance_models_creation _______________
tests/test_fbs_app_comprehensive.py:352: in test_compliance_models_creation
    compliance_rule = ComplianceRule.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: ComplianceRule() got unexpected keyword arguments: 'rule_type', 'rule_definition', 'is_active'
__________________ TestFBSAppModels.test_core_models_creation __________________
tests/test_fbs_app_comprehensive.py:68: in test_core_models_creation
    odoo_db = OdooDatabase.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: OdooDatabase() got unexpected keyword arguments: 'database'
_______________ TestFBSAppModels.test_discovery_models_creation ________________
tests/test_fbs_app_comprehensive.py:229: in test_discovery_models_creation
    odoo_model = OdooModel.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: OdooModel() got unexpected keyword arguments: 'name'
__________________ TestFBSAppModels.test_msme_models_creation __________________
tests/test_fbs_app_comprehensive.py:169: in test_msme_models_creation
    msme_wizard = MSMESetupWizard.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: MSMESetupWizard() got unexpected keyword arguments: 'company_name', 'setup_stage', 'setup_data'
________________ TestFBSAppModels.test_workflow_models_creation ________________
tests/test_fbs_app_comprehensive.py:269: in test_workflow_models_creation
    workflow_def = WorkflowDefinition.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: WorkflowDefinition() got unexpected keyword arguments: 'definition'
__________________ TestFBSAppServices.test_accounting_service __________________
tests/test_fbs_app_comprehensive.py:580: in test_accounting_service
    accounting_service = SimpleAccountingService()
E   TypeError: SimpleAccountingService.__init__() missing 1 required positional argument: 'solution_name'
_____________________ TestFBSAppServices.test_auth_service _____________________
tests/test_fbs_app_comprehensive.py:472: in test_auth_service
    self.assertTrue(result['success'])
E   AssertionError: False is not true
----------------------------- Captured stderr call -----------------------------
Error creating token mapping: Invalid field name(s) for model OdooDatabase: 'active', 'base_url', 'display_name', 'odoo_db_name'.
______________________ TestFBSAppServices.test_bi_service ______________________
tests/test_fbs_app_comprehensive.py:548: in test_bi_service
    bi_service = BusinessIntelligenceService()
E   TypeError: BusinessIntelligenceService.__init__() missing 1 required positional argument: 'solution_name'
__________________ TestFBSAppServices.test_compliance_service __________________
tests/test_fbs_app_comprehensive.py:565: in test_compliance_service
    compliance_service = ComplianceService()
E   TypeError: ComplianceService.__init__() missing 1 required positional argument: 'solution_name'
_____________________ TestFBSAppServices.test_msme_service _____________________
tests/test_fbs_app_comprehensive.py:532: in test_msme_service
    msme_service = MSMEService()
E   TypeError: MSMEService.__init__() missing 1 required positional argument: 'solution_name'
_____________________ TestFBSAppServices.test_odoo_client ______________________
tests/test_fbs_app_comprehensive.py:498: in test_odoo_client
    odoo_client = OdooClient(
E   TypeError: OdooClient.__init__() got an unexpected keyword argument 'host'
___________________ TestFBSAppServices.test_workflow_service ___________________
tests/test_fbs_app_comprehensive.py:524: in test_workflow_service
    workflow = workflow_service.create_workflow(workflow_data)
E   AttributeError: 'WorkflowService' object has no attribute 'create_workflow'. Did you mean: 'execute_workflow'?
____________ TestFBSAppMiddleware.test_database_routing_middleware _____________
tests/test_fbs_app_comprehensive.py:634: in setUp
    self.middleware = DatabaseRoutingMiddleware()
E   TypeError: MiddlewareMixin.__init__() missing 1 required positional argument: 'get_response'
_____________ TestFBSAppMiddleware.test_request_logging_middleware _____________
tests/test_fbs_app_comprehensive.py:634: in setUp
    self.middleware = DatabaseRoutingMiddleware()
E   TypeError: MiddlewareMixin.__init__() missing 1 required positional argument: 'get_response'
______________ TestLicenseManagerModels.test_feature_usage_model _______________
tests/test_license_manager_comprehensive.py:228: in test_feature_usage_model
    usage1 = FeatureUsage.objects.using('licensing').create(
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: FeatureUsage() got unexpected keyword arguments: 'license', 'usage_type', 'usage_value', 'usage_date', 'user_id', 'context'
___________ TestLicenseManagerModels.test_solution_license_creation ____________
tests/test_license_manager_comprehensive.py:77: in test_solution_license_creation
    self.assertTrue(solution_license.is_active())
E   AttributeError: 'SolutionLicense' object has no attribute 'is_active'
____________ TestLicenseManagerModels.test_solution_license_expiry _____________
tests/test_license_manager_comprehensive.py:177: in test_solution_license_expiry
    self.assertTrue(expired_license.is_expired())
fbs_license_manager/models.py:185: in is_expired
    return timezone.now() > self.expiry_date
E   TypeError: can't compare offset-naive and offset-aware datetimes
_______ TestLicenseManagerServices.test_license_manager_feature_checking _______
tests/test_license_manager_comprehensive.py:379: in test_license_manager_feature_checking
    self.assertTrue(license_manager.is_feature_available('feature1'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
----------------------------- Captured stderr call -----------------------------
Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
------------------------------ Captured log call -------------------------------
ERROR    fbs_license_manager:services.py:654 Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
_________ TestLicenseManagerServices.test_license_manager_license_info _________
tests/test_license_manager_comprehensive.py:362: in test_license_manager_license_info
    self.assertEqual(license_info['license_type'], 'professional')
E   AssertionError: 'trial' != 'professional'
E   - trial
E   + professional
----------------------------- Captured stderr call -----------------------------
Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
------------------------------ Captured log call -------------------------------
ERROR    fbs_license_manager:services.py:654 Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
___________ TestLicenseManagerServices.test_upgrade_prompts_service ____________
tests/test_license_manager_comprehensive.py:426: in test_upgrade_prompts_service
    upgrade_prompts = UpgradePrompts(self.solution_name, None)  # No license manager needed for basic tests
E   TypeError: UpgradePrompts.__init__() takes 2 positional arguments but 3 were given
=============================== warnings summary ===============================
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_handshake_model
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField Handshake.expires_at received a naive datetime (2025-08-24 19:28:29.356357) while time zone support is active.
    warnings.warn(

tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_report_schedule_model
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField ReportSchedule.next_run received a naive datetime (2025-09-22 19:28:35.614473) while time zone support is active.
    warnings.warn(

tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_creation
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField SolutionLicense.expiry_date received a naive datetime (2026-08-23 19:28:39.236524) while time zone support is active.
    warnings.warn(

tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField SolutionLicense.expiry_date received a naive datetime (2025-08-22 19:28:40.438673) while time zone support is active.
    warnings.warn(

tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField SolutionLicense.expiry_date received a naive datetime (2026-08-23 19:28:40.505399) while time zone support is active.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html

---------- coverage: platform linux, python 3.10.12-final-0 ----------
Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
fbs_app/__init__.py                                            3      0   100%
fbs_app/admin.py                                             241      0   100%
fbs_app/admin_urls.py                                          4      4     0%   7-12
fbs_app/apps.py                                               15      1    93%   15
fbs_app/auth_views.py                                        176    176     0%   7-370
fbs_app/config_template.py                                     5      5     0%   9-85
fbs_app/context_processors.py                                  4      4     0%   7-14
fbs_app/dashboard_urls.py                                      4      4     0%   7-12
fbs_app/health_views.py                                       59     59     0%   7-146
fbs_app/interfaces.py                                        321    168    48%   57-59, 63, 67, 71, 75, 79, 83, 87, 91, 95, 99, 103, 107, 114-116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 175-177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 220-222, 226, 230, 234, 238, 242, 246, 250, 254, 258, 265-267, 271, 275, 279, 283, 287, 291, 295, 299, 303, 310-312, 316, 320, 324, 328, 332, 336, 340, 344, 359, 363, 367, 372, 376, 380, 384, 388, 393, 397, 404-406, 412, 419, 424, 429, 435, 442, 449-451, 455, 460, 464, 468, 472, 479-481, 486, 498, 508, 518, 522, 527, 531, 535, 539, 555-559, 567, 570, 573, 576, 579, 582, 585, 588, 591-602, 606, 625, 645-648, 659, 670-673, 683-691, 695-698, 710-718, 724
fbs_app/management/__init__.py                                 0      0   100%
fbs_app/management/commands/__init__.py                        0      0   100%
fbs_app/management/commands/cleanup.py                       182    182     0%   5-347
fbs_app/management/commands/create_token.py                   43     43     0%   7-87
fbs_app/management/commands/generate_services.py              80     80     0%   5-208
fbs_app/management/commands/install_solution.py              127    127     0%   5-310
fbs_app/middleware/__init__.py                                 3      0   100%
fbs_app/middleware/database_routing.py                       122    110    10%   20-150, 154-161, 166-170, 174-176, 180-182, 186-189, 198-214
fbs_app/middleware/request_logging.py                         46     36    22%   20-25, 29-71, 75-115, 119-124
fbs_app/models/__init__.py                                     8      0   100%
fbs_app/models/accounting.py                                 109      4    96%   59, 106, 141, 188
fbs_app/models/bi.py                                          83      4    95%   41, 83, 129, 162
fbs_app/models/compliance.py                                  88      5    94%   46, 88, 118, 156, 180
fbs_app/models/core.py                                       208     41    80%   39, 58, 95, 124, 146, 177, 219, 263, 285, 325, 331-360, 366-393
fbs_app/models/discovery.py                                   93      4    96%   46, 78, 113, 148
fbs_app/models/msme.py                                       100      6    94%   36, 66, 102, 132, 162, 186
fbs_app/models/workflows.py                                   79      4    95%   46, 81, 115, 143
fbs_app/routers.py                                            93     45    52%   19, 25-31, 35-39, 51-54, 58, 65, 71-77, 81-85, 97-100, 104, 130-134, 147, 154, 158-163
fbs_app/services/__init__.py                                  16      0   100%
fbs_app/services/auth_service.py                              96     73    24%   26-62, 70-124, 132-155, 163-195, 203-227, 252-267
fbs_app/services/bi_service.py                               327    292    11%   22-23, 28-51, 55-82, 86-112, 116-130, 135-158, 162-189, 193-229, 234-264, 268-295, 299-321, 326-352, 356-384, 389-404, 410, 422, 434, 449-479, 487-551, 558-605, 613-657, 664-694, 701-714, 718-725, 729-780, 784-810, 814-846
fbs_app/services/business_logic_service.py                   148    132    11%   22-58, 67-110, 115-177, 186-240, 248-288
fbs_app/services/cache_service.py                            187    142    24%   29, 38-40, 45, 52-54, 59, 65-67, 71-93, 97-106, 110-120, 124-138, 142-151, 155-164, 168-178, 182-214, 222-231, 235-261, 265-285
fbs_app/services/compliance_service.py                       222    193    13%   21-22, 26-61, 66-96, 101-122, 126-156, 161-185, 189-237, 241-274, 278-323, 330-371, 376-403, 407-435, 439-465, 469-493, 497-526, 530-544, 549, 554, 558, 569, 580
fbs_app/services/database_service.py                         173    153    12%   31-51, 57-60, 77-87, 100-111, 124-167, 183-226, 242-279, 297-350, 371-412, 431-484, 497-554
fbs_app/services/discovery_service.py                        101     82    19%   26-68, 76-108, 116-158, 166-199, 207-240, 248-267, 271-287, 291-304
fbs_app/services/field_merger_service.py                     156    129    17%   34-47, 64-91, 108-138, 155-179, 194-205, 224-246, 264-290, 307-330, 346-367, 384-413, 429-469
fbs_app/services/msme_service.py                             105     89    15%   20-21, 25-62, 66-97, 101-127, 135-163, 167-191, 195-222, 226-252, 256-277
fbs_app/services/notification_service.py                     161    139    14%   20-25, 34-93, 100-131, 135-168, 172-205, 209-242, 246-267, 271-289, 293-319, 324-350, 354-375, 379-387, 391-404, 408-433, 437-468
fbs_app/services/odoo_client.py                              165    133    19%   39-50, 58-75, 79, 85-98, 108-154, 163-192, 200-227, 236-263, 271-298, 308-338, 346-366, 375-396, 404-424
fbs_app/services/onboarding_service.py                       182    159    13%   21, 26-66, 70-140, 144-169, 173-198, 202-228, 232-257, 262-272, 276-280, 285-316, 320-349, 353-386, 390-425, 429-468, 472-519
fbs_app/services/service_generator.py                        143    130     9%   18-19, 24-47, 57-321, 325, 337-365, 372-381, 388-402, 409-417
fbs_app/services/simple_accounting_service.py                146    129    12%   21-22, 27-59, 64-108, 114-146, 150-223, 228-265, 269-294, 298-341, 345-390
fbs_app/services/workflow_service.py                         266    236    11%   26-82, 90-155, 164-193, 201-229, 237-247, 252-269, 277-297, 301-318, 323-350, 358-366, 374-381, 385-392, 397-427, 431-459, 463-496, 500-526, 530-563, 567-590, 594-624, 628-657, 661-686
fbs_app/signals.py                                           130    123     5%   24-250
fbs_app/tests/__init__.py                                      0      0   100%
fbs_app/tests/conftest.py                                    111    111     0%   12-222
fbs_app/tests/run_all_tests.py                               115    115     0%   15-238
fbs_app/tests/test_interfaces.py                              75     75     0%   8-118
fbs_app/tests/test_models.py                                 177    177     0%   12-516
fbs_app/tests/test_services/__init__.py                        1      1     0%   7
fbs_app/tests/test_services/test_bi_service.py               192    192     0%   7-398
fbs_app/tests/test_services/test_compliance_service.py       181    181     0%   7-405
fbs_app/tests/test_services/test_notification_service.py     202    202     0%   7-441
fbs_app/tests/test_services/test_onboarding_service.py       185    185     0%   7-445
fbs_app/tests/test_services/test_workflow_service.py         170    170     0%   7-376
fbs_app/urls.py                                                7      7     0%   10-74
fbs_dms/__init__.py                                            3      0   100%
fbs_dms/admin.py                                              79     12    85%   68-74, 97, 157-160, 175, 205-207
fbs_dms/apps.py                                               10      0   100%
fbs_dms/models/__init__.py                                     4      0   100%
fbs_dms/models/document.py                                   106     23    78%   42, 46, 50-53, 81-83, 106, 204, 208-210, 214, 218, 222-224, 228-231
fbs_dms/models/file_attachment.py                             75     36    52%   60, 64-71, 75-80, 84, 88, 92, 96-97, 101, 105-113, 117, 121-135, 139-148, 152-156
fbs_dms/models/workflow.py                                    88     36    59%   52, 56, 60, 64-66, 70-79, 124, 128-135, 139-145, 149-160, 164, 168, 172, 176, 180, 184
fbs_dms/services/__init__.py                                   5      0   100%
fbs_dms/services/document_service.py                         256    214    16%   35-92, 101-134, 138-163, 167, 176-186, 195-209, 213, 217, 221, 225-231, 235-238, 242-245, 249-251, 260-268, 273-281, 286-293, 297-318, 322-325, 329-351, 356-360, 364-369, 373, 403-414, 418-440, 444-465, 476-499, 504-518, 523-537
fbs_dms/services/file_service.py                             105     84    20%   24, 33-49, 53-66, 70-87, 95-118, 125-148, 152-158, 162-173, 178-195, 200-207, 211-229
fbs_dms/services/search_service.py                           151    128    15%   25, 34-53, 61-85, 93-129, 137-173, 177-208, 212-245, 249-264, 268-277, 281-289, 293-305, 309-314
fbs_dms/services/workflow_service.py                         159    132    17%   25, 29-59, 63-88, 92-115, 119-143, 147-182, 186-195, 199-226, 232-242, 247-250, 254, 258-264, 268-274, 279-286, 291-298, 303-310
fbs_dms/setup.py                                              15     15     0%   8-27
fbs_dms/tests/__init__.py                                      3      3     0%   8-11
fbs_dms/tests/test_fbs_integration.py                         98     98     0%   7-252
fbs_dms/tests/test_models.py                                 142    142     0%   7-371
fbs_dms/urls.py                                                4      4     0%   7-41
fbs_dms/views/__init__.py                                      4      4     0%   7-10
fbs_dms/views/document_views.py                              167    167     0%   7-449
fbs_dms/views/file_views.py                                  100    100     0%   7-222
fbs_dms/views/search_views.py                                106    106     0%   7-224
fbs_dms/views/workflow_views.py                              120    120     0%   7-290
fbs_license_manager/__init__.py                                6      0   100%
fbs_license_manager/admin.py                                  72     39    46%   43-45, 49-51, 55-64, 82-109, 115, 119, 129, 133, 137
fbs_license_manager/apps.py                                   10      0   100%
fbs_license_manager/migrations/0001_initial.py                 6      6     0%   3-14
fbs_license_manager/migrations/__init__.py                     0      0   100%
fbs_license_manager/models.py                                205     63    69%   106, 114-115, 120-121, 142-143, 149-150, 182, 189-199, 236, 239-241, 247, 250-252, 258, 263-264, 269, 300, 333, 338, 346-356, 361-362, 374, 379-383, 388-417, 427, 432, 437-448
fbs_license_manager/services.py                              315    203    36%   55-56, 72-91, 117-158, 162, 185-187, 191-192, 196-204, 213-224, 228-247, 251-252, 256-268, 272-290, 294-296, 309, 315-318, 322-326, 334-383, 392-395, 399-408, 412-433, 437-448, 457-463, 467-474, 482-497, 504, 508-528, 532, 536-549, 553, 562, 571, 591-604, 630-642, 672, 689-691, 695-696, 700, 704-705, 709-717
fbs_license_manager/setup.py                                   4      4     0%   5-10
fbs_license_manager/tests/__init__.py                          2      2     0%   8-10
fbs_license_manager/tests/test_encryption.py                  32     32     0%   5-98
----------------------------------------------------------------------------------------
TOTAL                                                       8888   6635    25%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

Required test coverage of 15% reached. Total coverage: 25.35%
============================= slowest 10 durations =============================
2.70s setup    tests/test_basic_functionality.py::TestBasicFunctionality::test_user_authentication
1.40s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_class_methods
0.69s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_encryption
0.68s call     tests/test_basic_functionality.py::TestBasicFunctionality::test_user_creation
0.58s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_creation
0.56s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_creation
0.56s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_feature_usage_model
0.55s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_feature_flags_service
0.54s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_cache
0.53s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry
=========================== short test summary info ============================
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_accounting_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_bi_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_compliance_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_core_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_discovery_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_msme_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_workflow_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_accounting_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_auth_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_bi_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_compliance_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_msme_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_odoo_client
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_workflow_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppMiddleware::test_database_routing_middleware
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppMiddleware::test_request_logging_middleware
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_feature_usage_model
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_creation
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_feature_checking
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_license_info
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_upgrade_prompts_service
===== 22 failed, 53 passed, 1 skipped, 50 deselected, 5 warnings in 38.48s =====
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 126 items / 93 deselected / 33 selected

tests/test_basic_functionality.py::TestIntegrationBasics::test_multiple_users PASSED [  3%]
tests/test_basic_functionality.py::TestIntegrationBasics::test_user_relationships PASSED [  6%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_app_only_configuration PASSED [  9%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_dms_configuration PASSED [ 12%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_licensing_configuration PASSED [ 15%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_full_stack_configuration PASSED [ 18%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_graceful_fallbacks PASSED [ 21%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_fbs_dms_integration PASSED [ 24%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_fbs_license_integration PASSED [ 27%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_full_stack_integration PASSED [ 30%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_license_dms_integration PASSED [ 33%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_dms PASSED [ 36%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_fbs_only PASSED [ 39%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_licensing PASSED [ 42%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_solution_database_isolation PASSED [ 45%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_basic_fbs_workflow PASSED [ 48%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_dms_workflow PASSED [ 51%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_full_stack_workflow PASSED [ 54%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_licensed_workflow PASSED [ 57%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_fbs_only_performance PASSED [ 60%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_full_stack_performance PASSED [ 63%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_dms_performance PASSED [ 66%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_licensing_performance PASSED [ 69%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_fbs_only_security PASSED [ 72%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_full_stack_security PASSED [ 75%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_with_dms_security PASSED [ 78%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_with_licensing_security PASSED [ 81%]
tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_bi_dashboard_integration FAILED [ 84%]
tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_full_workflow_integration FAILED [ 87%]
tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_msme_setup_integration FAILED [ 90%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_cache_integration FAILED [ 93%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_feature_usage_tracking_integration FAILED [ 96%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_license_workflow_integration FAILED [100%]

=================================== FAILURES ===================================
_____________ TestFBSAppIntegration.test_bi_dashboard_integration ______________
tests/test_fbs_app_comprehensive.py:728: in test_bi_dashboard_integration
    kpi = KPI.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: KPI() got unexpected keyword arguments: 'calculation', 'target', 'current_value'
_____________ TestFBSAppIntegration.test_full_workflow_integration _____________
tests/test_fbs_app_comprehensive.py:673: in test_full_workflow_integration
    workflow_def = WorkflowDefinition.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: WorkflowDefinition() got unexpected keyword arguments: 'definition'
______________ TestFBSAppIntegration.test_msme_setup_integration _______________
tests/test_fbs_app_comprehensive.py:703: in test_msme_setup_integration
    msme_wizard = MSMESetupWizard.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: MSMESetupWizard() got unexpected keyword arguments: 'company_name', 'setup_stage', 'setup_data'
_____________ TestLicenseManagerIntegration.test_cache_integration _____________
tests/test_license_manager_comprehensive.py:662: in test_cache_integration
    self.assertIsNotNone(cached_data)
E   AssertionError: unexpectedly None
____ TestLicenseManagerIntegration.test_feature_usage_tracking_integration _____
tests/test_license_manager_comprehensive.py:685: in test_feature_usage_tracking_integration
    usage = FeatureUsage.objects.using('licensing').create(
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: FeatureUsage() got unexpected keyword arguments: 'license', 'usage_type', 'usage_value', 'usage_date', 'user_id', 'context'
_______ TestLicenseManagerIntegration.test_license_workflow_integration ________
tests/test_license_manager_comprehensive.py:631: in test_license_workflow_integration
    self.assertTrue(license_manager.is_feature_available('feature1'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
----------------------------- Captured stderr call -----------------------------
Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
------------------------------ Captured log call -------------------------------
ERROR    fbs_license_manager:services.py:654 Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.

---------- coverage: platform linux, python 3.10.12-final-0 ----------
Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
fbs_app/__init__.py                                            3      0   100%
fbs_app/admin.py                                             241      0   100%
fbs_app/admin_urls.py                                          4      4     0%   7-12
fbs_app/apps.py                                               15      1    93%   15
fbs_app/auth_views.py                                        176    176     0%   7-370
fbs_app/config_template.py                                     5      5     0%   9-85
fbs_app/context_processors.py                                  4      4     0%   7-14
fbs_app/dashboard_urls.py                                      4      4     0%   7-12
fbs_app/health_views.py                                       59     59     0%   7-146
fbs_app/interfaces.py                                        321    168    48%   57-59, 63, 67, 71, 75, 79, 83, 87, 91, 95, 99, 103, 107, 114-116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 175-177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 220-222, 226, 230, 234, 238, 242, 246, 250, 254, 258, 265-267, 271, 275, 279, 283, 287, 291, 295, 299, 303, 310-312, 316, 320, 324, 328, 332, 336, 340, 344, 359, 363, 367, 372, 376, 380, 384, 388, 393, 397, 404-406, 412, 419, 424, 429, 435, 442, 449-451, 455, 460, 464, 468, 472, 479-481, 486, 498, 508, 518, 522, 527, 531, 535, 539, 555-559, 567, 570, 573, 576, 579, 582, 585, 588, 591-602, 606, 625, 645-648, 659, 670-673, 683-691, 695-698, 710-718, 724
fbs_app/management/__init__.py                                 0      0   100%
fbs_app/management/commands/__init__.py                        0      0   100%
fbs_app/management/commands/cleanup.py                       182    182     0%   5-347
fbs_app/management/commands/create_token.py                   43     43     0%   7-87
fbs_app/management/commands/generate_services.py              80     80     0%   5-208
fbs_app/management/commands/install_solution.py              127    127     0%   5-310
fbs_app/middleware/__init__.py                                 3      0   100%
fbs_app/middleware/database_routing.py                       122    110    10%   20-150, 154-161, 166-170, 174-176, 180-182, 186-189, 198-214
fbs_app/middleware/request_logging.py                         46     36    22%   20-25, 29-71, 75-115, 119-124
fbs_app/models/__init__.py                                     8      0   100%
fbs_app/models/accounting.py                                 109      4    96%   59, 106, 141, 188
fbs_app/models/bi.py                                          83      4    95%   41, 83, 129, 162
fbs_app/models/compliance.py                                  88      5    94%   46, 88, 118, 156, 180
fbs_app/models/core.py                                       208     41    80%   39, 58, 95, 124, 146, 177, 219, 263, 285, 325, 331-360, 366-393
fbs_app/models/discovery.py                                   93      4    96%   46, 78, 113, 148
fbs_app/models/msme.py                                       100      6    94%   36, 66, 102, 132, 162, 186
fbs_app/models/workflows.py                                   79      4    95%   46, 81, 115, 143
fbs_app/routers.py                                            93     45    52%   19, 25-31, 35-39, 51-54, 65, 71-77, 81-85, 89, 93, 97-100, 104, 120-134, 147, 154
fbs_app/services/__init__.py                                  16      0   100%
fbs_app/services/auth_service.py                              96     81    16%   21-22, 26-62, 70-124, 132-155, 163-195, 203-227, 237-278
fbs_app/services/bi_service.py                               327    292    11%   22-23, 28-51, 55-82, 86-112, 116-130, 135-158, 162-189, 193-229, 234-264, 268-295, 299-321, 326-352, 356-384, 389-404, 410, 422, 434, 449-479, 487-551, 558-605, 613-657, 664-694, 701-714, 718-725, 729-780, 784-810, 814-846
fbs_app/services/business_logic_service.py                   148    132    11%   22-58, 67-110, 115-177, 186-240, 248-288
fbs_app/services/cache_service.py                            187    164    12%   21-24, 28-40, 44-54, 58-67, 71-93, 97-106, 110-120, 124-138, 142-151, 155-164, 168-178, 182-214, 222-231, 235-261, 265-285
fbs_app/services/compliance_service.py                       222    193    13%   21-22, 26-61, 66-96, 101-122, 126-156, 161-185, 189-237, 241-274, 278-323, 330-371, 376-403, 407-435, 439-465, 469-493, 497-526, 530-544, 549, 554, 558, 569, 580
fbs_app/services/database_service.py                         173    153    12%   31-51, 57-60, 77-87, 100-111, 124-167, 183-226, 242-279, 297-350, 371-412, 431-484, 497-554
fbs_app/services/discovery_service.py                        101     82    19%   26-68, 76-108, 116-158, 166-199, 207-240, 248-267, 271-287, 291-304
fbs_app/services/field_merger_service.py                     156    129    17%   34-47, 64-91, 108-138, 155-179, 194-205, 224-246, 264-290, 307-330, 346-367, 384-413, 429-469
fbs_app/services/msme_service.py                             105     89    15%   20-21, 25-62, 66-97, 101-127, 135-163, 167-191, 195-222, 226-252, 256-277
fbs_app/services/notification_service.py                     161    139    14%   20-25, 34-93, 100-131, 135-168, 172-205, 209-242, 246-267, 271-289, 293-319, 324-350, 354-375, 379-387, 391-404, 408-433, 437-468
fbs_app/services/odoo_client.py                              165    133    19%   39-50, 58-75, 79, 85-98, 108-154, 163-192, 200-227, 236-263, 271-298, 308-338, 346-366, 375-396, 404-424
fbs_app/services/onboarding_service.py                       182    159    13%   21, 26-66, 70-140, 144-169, 173-198, 202-228, 232-257, 262-272, 276-280, 285-316, 320-349, 353-386, 390-425, 429-468, 472-519
fbs_app/services/service_generator.py                        143    130     9%   18-19, 24-47, 57-321, 325, 337-365, 372-381, 388-402, 409-417
fbs_app/services/simple_accounting_service.py                146    129    12%   21-22, 27-59, 64-108, 114-146, 150-223, 228-265, 269-294, 298-341, 345-390
fbs_app/services/workflow_service.py                         266    237    11%   20, 26-82, 90-155, 164-193, 201-229, 237-247, 252-269, 277-297, 301-318, 323-350, 358-366, 374-381, 385-392, 397-427, 431-459, 463-496, 500-526, 530-563, 567-590, 594-624, 628-657, 661-686
fbs_app/signals.py                                           130    123     5%   24-250
fbs_app/tests/__init__.py                                      0      0   100%
fbs_app/tests/conftest.py                                    111    111     0%   12-222
fbs_app/tests/run_all_tests.py                               115    115     0%   15-238
fbs_app/tests/test_interfaces.py                              75     75     0%   8-118
fbs_app/tests/test_models.py                                 177    177     0%   12-516
fbs_app/tests/test_services/__init__.py                        1      1     0%   7
fbs_app/tests/test_services/test_bi_service.py               192    192     0%   7-398
fbs_app/tests/test_services/test_compliance_service.py       181    181     0%   7-405
fbs_app/tests/test_services/test_notification_service.py     202    202     0%   7-441
fbs_app/tests/test_services/test_onboarding_service.py       185    185     0%   7-445
fbs_app/tests/test_services/test_workflow_service.py         170    170     0%   7-376
fbs_app/urls.py                                                7      7     0%   10-74
fbs_dms/__init__.py                                            3      0   100%
fbs_dms/admin.py                                              79     12    85%   68-74, 97, 157-160, 175, 205-207
fbs_dms/apps.py                                               10      0   100%
fbs_dms/models/__init__.py                                     4      0   100%
fbs_dms/models/document.py                                   106     23    78%   42, 46, 50-53, 81-83, 106, 204, 208-210, 214, 218, 222-224, 228-231
fbs_dms/models/file_attachment.py                             75     36    52%   60, 64-71, 75-80, 84, 88, 92, 96-97, 101, 105-113, 117, 121-135, 139-148, 152-156
fbs_dms/models/workflow.py                                    88     36    59%   52, 56, 60, 64-66, 70-79, 124, 128-135, 139-145, 149-160, 164, 168, 172, 176, 180, 184
fbs_dms/services/__init__.py                                   5      0   100%
fbs_dms/services/document_service.py                         256    214    16%   35-92, 101-134, 138-163, 167, 176-186, 195-209, 213, 217, 221, 225-231, 235-238, 242-245, 249-251, 260-268, 273-281, 286-293, 297-318, 322-325, 329-351, 356-360, 364-369, 373, 403-414, 418-440, 444-465, 476-499, 504-518, 523-537
fbs_dms/services/file_service.py                             105     84    20%   24, 33-49, 53-66, 70-87, 95-118, 125-148, 152-158, 162-173, 178-195, 200-207, 211-229
fbs_dms/services/search_service.py                           151    128    15%   25, 34-53, 61-85, 93-129, 137-173, 177-208, 212-245, 249-264, 268-277, 281-289, 293-305, 309-314
fbs_dms/services/workflow_service.py                         159    132    17%   25, 29-59, 63-88, 92-115, 119-143, 147-182, 186-195, 199-226, 232-242, 247-250, 254, 258-264, 268-274, 279-286, 291-298, 303-310
fbs_dms/setup.py                                              15     15     0%   8-27
fbs_dms/tests/__init__.py                                      3      3     0%   8-11
fbs_dms/tests/test_fbs_integration.py                         98     98     0%   7-252
fbs_dms/tests/test_models.py                                 142    142     0%   7-371
fbs_dms/urls.py                                                4      4     0%   7-41
fbs_dms/views/__init__.py                                      4      4     0%   7-10
fbs_dms/views/document_views.py                              167    167     0%   7-449
fbs_dms/views/file_views.py                                  100    100     0%   7-222
fbs_dms/views/search_views.py                                106    106     0%   7-224
fbs_dms/views/workflow_views.py                              120    120     0%   7-290
fbs_license_manager/__init__.py                                6      0   100%
fbs_license_manager/admin.py                                  72     39    46%   43-45, 49-51, 55-64, 82-109, 115, 119, 129, 133, 137
fbs_license_manager/apps.py                                   10      0   100%
fbs_license_manager/migrations/0001_initial.py                 6      6     0%   3-14
fbs_license_manager/migrations/__init__.py                     0      0   100%
fbs_license_manager/models.py                                205     92    55%   106, 114-115, 120-121, 134-136, 142-143, 149-150, 154, 158-160, 164-172, 181-185, 189-199, 236, 239-241, 245-252, 258, 263-264, 268-270, 280-300, 333, 338, 346-356, 361-362, 374, 379-383, 388-417, 427, 432, 437-448
fbs_license_manager/services.py                              315    204    35%   55-56, 61-64, 72-91, 117-158, 162, 185-187, 191-192, 196-204, 213-224, 228-247, 251-252, 256-268, 272-290, 294-296, 309, 315-318, 322-326, 334-383, 392-395, 399-408, 412-433, 437-448, 457-463, 467-474, 482-497, 504, 508-528, 532, 536-549, 553, 562, 571, 591-604, 630-642, 672, 689-691, 700, 704-705, 709-717
fbs_license_manager/setup.py                                   4      4     0%   5-10
fbs_license_manager/tests/__init__.py                          2      2     0%   8-10
fbs_license_manager/tests/test_encryption.py                  32     32     0%   5-98
----------------------------------------------------------------------------------------
TOTAL                                                       8888   6696    25%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

Required test coverage of 15% reached. Total coverage: 24.66%
============================= slowest 10 durations =============================
2.94s setup    tests/test_basic_functionality.py::TestIntegrationBasics::test_multiple_users
0.78s call     tests/test_basic_functionality.py::TestIntegrationBasics::test_multiple_users
0.78s call     tests/test_basic_functionality.py::TestIntegrationBasics::test_user_relationships
0.54s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_cache_integration
0.53s call     tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_full_stack_workflow
0.52s call     tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_fbs_only_performance
0.52s call     tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_full_stack_performance
0.52s call     tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_licensed_workflow
0.50s call     tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_dms_performance
0.49s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_feature_usage_tracking_integration
=========================== short test summary info ============================
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_bi_dashboard_integration
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_full_workflow_integration
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_msme_setup_integration
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_cache_integration
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_feature_usage_tracking_integration
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_license_workflow_integration
================= 6 failed, 27 passed, 93 deselected in 25.82s =================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 0 items

============================ no tests ran in 0.01s =============================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 0 items

============================ no tests ran in 0.01s =============================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 0 items

============================ no tests ran in 0.01s =============================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 126 items / 113 deselected / 13 selected

tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_app_only_configuration PASSED [  7%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_dms_configuration PASSED [ 15%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_licensing_configuration PASSED [ 23%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_full_stack_configuration PASSED [ 30%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_graceful_fallbacks PASSED [ 38%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_fbs_dms_integration PASSED [ 46%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_fbs_license_integration PASSED [ 53%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_full_stack_integration PASSED [ 61%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_license_dms_integration PASSED [ 69%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_enterprise_solution_licensing FAILED [ 76%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_professional_solution_licensing FAILED [ 84%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_solution_upgrade_scenarios FAILED [ 92%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_trial_solution_licensing FAILED [100%]

=================================== FAILURES ===================================
______ TestLicenseManagerCherryPicking.test_enterprise_solution_licensing ______
tests/test_license_manager_comprehensive.py:832: in test_enterprise_solution_licensing
    self.assertTrue(license_manager.is_feature_available('basic_feature'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
_____ TestLicenseManagerCherryPicking.test_professional_solution_licensing _____
tests/test_license_manager_comprehensive.py:809: in test_professional_solution_licensing
    self.assertTrue(license_manager.is_feature_available('basic_feature'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
_______ TestLicenseManagerCherryPicking.test_solution_upgrade_scenarios ________
tests/test_license_manager_comprehensive.py:857: in test_solution_upgrade_scenarios
    self.assertFalse(trial_license_manager.is_feature_available('advanced_feature'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
________ TestLicenseManagerCherryPicking.test_trial_solution_licensing _________
tests/test_license_manager_comprehensive.py:783: in test_trial_solution_licensing
    self.assertTrue(license_manager.is_feature_available('basic_feature'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'

---------- coverage: platform linux, python 3.10.12-final-0 ----------
Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
fbs_app/__init__.py                                            3      0   100%
fbs_app/admin.py                                             241      0   100%
fbs_app/admin_urls.py                                          4      4     0%   7-12
fbs_app/apps.py                                               15      1    93%   15
fbs_app/auth_views.py                                        176    176     0%   7-370
fbs_app/config_template.py                                     5      5     0%   9-85
fbs_app/context_processors.py                                  4      4     0%   7-14
fbs_app/dashboard_urls.py                                      4      4     0%   7-12
fbs_app/health_views.py                                       59     59     0%   7-146
fbs_app/interfaces.py                                        321    168    48%   57-59, 63, 67, 71, 75, 79, 83, 87, 91, 95, 99, 103, 107, 114-116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 175-177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 220-222, 226, 230, 234, 238, 242, 246, 250, 254, 258, 265-267, 271, 275, 279, 283, 287, 291, 295, 299, 303, 310-312, 316, 320, 324, 328, 332, 336, 340, 344, 359, 363, 367, 372, 376, 380, 384, 388, 393, 397, 404-406, 412, 419, 424, 429, 435, 442, 449-451, 455, 460, 464, 468, 472, 479-481, 486, 498, 508, 518, 522, 527, 531, 535, 539, 555-559, 567, 570, 573, 576, 579, 582, 585, 588, 591-602, 606, 625, 645-648, 659, 670-673, 683-691, 695-698, 710-718, 724
fbs_app/management/__init__.py                                 0      0   100%
fbs_app/management/commands/__init__.py                        0      0   100%
fbs_app/management/commands/cleanup.py                       182    182     0%   5-347
fbs_app/management/commands/create_token.py                   43     43     0%   7-87
fbs_app/management/commands/generate_services.py              80     80     0%   5-208
fbs_app/management/commands/install_solution.py              127    127     0%   5-310
fbs_app/middleware/__init__.py                                 3      0   100%
fbs_app/middleware/database_routing.py                       122    110    10%   20-150, 154-161, 166-170, 174-176, 180-182, 186-189, 198-214
fbs_app/middleware/request_logging.py                         46     36    22%   20-25, 29-71, 75-115, 119-124
fbs_app/models/__init__.py                                     8      0   100%
fbs_app/models/accounting.py                                 109      4    96%   59, 106, 141, 188
fbs_app/models/bi.py                                          83      4    95%   41, 83, 129, 162
fbs_app/models/compliance.py                                  88      5    94%   46, 88, 118, 156, 180
fbs_app/models/core.py                                       208     41    80%   39, 58, 95, 124, 146, 177, 219, 263, 285, 325, 331-360, 366-393
fbs_app/models/discovery.py                                   93      4    96%   46, 78, 113, 148
fbs_app/models/msme.py                                       100      6    94%   36, 66, 102, 132, 162, 186
fbs_app/models/workflows.py                                   79      4    95%   46, 81, 115, 143
fbs_app/routers.py                                            93     53    43%   19, 25-31, 35-39, 47, 51-54, 58, 65, 71-77, 81-85, 89, 93, 97-100, 104, 120-134, 147, 154, 158-163
fbs_app/services/__init__.py                                  16      0   100%
fbs_app/services/auth_service.py                              96     81    16%   21-22, 26-62, 70-124, 132-155, 163-195, 203-227, 237-278
fbs_app/services/bi_service.py                               327    292    11%   22-23, 28-51, 55-82, 86-112, 116-130, 135-158, 162-189, 193-229, 234-264, 268-295, 299-321, 326-352, 356-384, 389-404, 410, 422, 434, 449-479, 487-551, 558-605, 613-657, 664-694, 701-714, 718-725, 729-780, 784-810, 814-846
fbs_app/services/business_logic_service.py                   148    132    11%   22-58, 67-110, 115-177, 186-240, 248-288
fbs_app/services/cache_service.py                            187    164    12%   21-24, 28-40, 44-54, 58-67, 71-93, 97-106, 110-120, 124-138, 142-151, 155-164, 168-178, 182-214, 222-231, 235-261, 265-285
fbs_app/services/compliance_service.py                       222    193    13%   21-22, 26-61, 66-96, 101-122, 126-156, 161-185, 189-237, 241-274, 278-323, 330-371, 376-403, 407-435, 439-465, 469-493, 497-526, 530-544, 549, 554, 558, 569, 580
fbs_app/services/database_service.py                         173    153    12%   31-51, 57-60, 77-87, 100-111, 124-167, 183-226, 242-279, 297-350, 371-412, 431-484, 497-554
fbs_app/services/discovery_service.py                        101     82    19%   26-68, 76-108, 116-158, 166-199, 207-240, 248-267, 271-287, 291-304
fbs_app/services/field_merger_service.py                     156    129    17%   34-47, 64-91, 108-138, 155-179, 194-205, 224-246, 264-290, 307-330, 346-367, 384-413, 429-469
fbs_app/services/msme_service.py                             105     89    15%   20-21, 25-62, 66-97, 101-127, 135-163, 167-191, 195-222, 226-252, 256-277
fbs_app/services/notification_service.py                     161    139    14%   20-25, 34-93, 100-131, 135-168, 172-205, 209-242, 246-267, 271-289, 293-319, 324-350, 354-375, 379-387, 391-404, 408-433, 437-468
fbs_app/services/odoo_client.py                              165    133    19%   39-50, 58-75, 79, 85-98, 108-154, 163-192, 200-227, 236-263, 271-298, 308-338, 346-366, 375-396, 404-424
fbs_app/services/onboarding_service.py                       182    159    13%   21, 26-66, 70-140, 144-169, 173-198, 202-228, 232-257, 262-272, 276-280, 285-316, 320-349, 353-386, 390-425, 429-468, 472-519
fbs_app/services/service_generator.py                        143    130     9%   18-19, 24-47, 57-321, 325, 337-365, 372-381, 388-402, 409-417
fbs_app/services/simple_accounting_service.py                146    129    12%   21-22, 27-59, 64-108, 114-146, 150-223, 228-265, 269-294, 298-341, 345-390
fbs_app/services/workflow_service.py                         266    237    11%   20, 26-82, 90-155, 164-193, 201-229, 237-247, 252-269, 277-297, 301-318, 323-350, 358-366, 374-381, 385-392, 397-427, 431-459, 463-496, 500-526, 530-563, 567-590, 594-624, 628-657, 661-686
fbs_app/signals.py                                           130    123     5%   24-250
fbs_app/tests/__init__.py                                      0      0   100%
fbs_app/tests/conftest.py                                    111    111     0%   12-222
fbs_app/tests/run_all_tests.py                               115    115     0%   15-238
fbs_app/tests/test_interfaces.py                              75     75     0%   8-118
fbs_app/tests/test_models.py                                 177    177     0%   12-516
fbs_app/tests/test_services/__init__.py                        1      1     0%   7
fbs_app/tests/test_services/test_bi_service.py               192    192     0%   7-398
fbs_app/tests/test_services/test_compliance_service.py       181    181     0%   7-405
fbs_app/tests/test_services/test_notification_service.py     202    202     0%   7-441
fbs_app/tests/test_services/test_onboarding_service.py       185    185     0%   7-445
fbs_app/tests/test_services/test_workflow_service.py         170    170     0%   7-376
fbs_app/urls.py                                                7      7     0%   10-74
fbs_dms/__init__.py                                            3      0   100%
fbs_dms/admin.py                                              79     12    85%   68-74, 97, 157-160, 175, 205-207
fbs_dms/apps.py                                               10      0   100%
fbs_dms/models/__init__.py                                     4      0   100%
fbs_dms/models/document.py                                   106     23    78%   42, 46, 50-53, 81-83, 106, 204, 208-210, 214, 218, 222-224, 228-231
fbs_dms/models/file_attachment.py                             75     36    52%   60, 64-71, 75-80, 84, 88, 92, 96-97, 101, 105-113, 117, 121-135, 139-148, 152-156
fbs_dms/models/workflow.py                                    88     36    59%   52, 56, 60, 64-66, 70-79, 124, 128-135, 139-145, 149-160, 164, 168, 172, 176, 180, 184
fbs_dms/services/__init__.py                                   5      0   100%
fbs_dms/services/document_service.py                         256    214    16%   35-92, 101-134, 138-163, 167, 176-186, 195-209, 213, 217, 221, 225-231, 235-238, 242-245, 249-251, 260-268, 273-281, 286-293, 297-318, 322-325, 329-351, 356-360, 364-369, 373, 403-414, 418-440, 444-465, 476-499, 504-518, 523-537
fbs_dms/services/file_service.py                             105     84    20%   24, 33-49, 53-66, 70-87, 95-118, 125-148, 152-158, 162-173, 178-195, 200-207, 211-229
fbs_dms/services/search_service.py                           151    128    15%   25, 34-53, 61-85, 93-129, 137-173, 177-208, 212-245, 249-264, 268-277, 281-289, 293-305, 309-314
fbs_dms/services/workflow_service.py                         159    132    17%   25, 29-59, 63-88, 92-115, 119-143, 147-182, 186-195, 199-226, 232-242, 247-250, 254, 258-264, 268-274, 279-286, 291-298, 303-310
fbs_dms/setup.py                                              15     15     0%   8-27
fbs_dms/tests/__init__.py                                      3      3     0%   8-11
fbs_dms/tests/test_fbs_integration.py                         98     98     0%   7-252
fbs_dms/tests/test_models.py                                 142    142     0%   7-371
fbs_dms/urls.py                                                4      4     0%   7-41
fbs_dms/views/__init__.py                                      4      4     0%   7-10
fbs_dms/views/document_views.py                              167    167     0%   7-449
fbs_dms/views/file_views.py                                  100    100     0%   7-222
fbs_dms/views/search_views.py                                106    106     0%   7-224
fbs_dms/views/workflow_views.py                              120    120     0%   7-290
fbs_license_manager/__init__.py                                6      0   100%
fbs_license_manager/admin.py                                  72     39    46%   43-45, 49-51, 55-64, 82-109, 115, 119, 129, 133, 137
fbs_license_manager/apps.py                                   10      0   100%
fbs_license_manager/migrations/0001_initial.py                 6      6     0%   3-14
fbs_license_manager/migrations/__init__.py                     0      0   100%
fbs_license_manager/models.py                                205     90    56%   106, 114-115, 120-121, 134-136, 142-143, 149-150, 154, 158-160, 164-172, 181-185, 189-199, 236, 239-241, 245-252, 258, 268-270, 280-300, 333, 338, 346-356, 361-362, 374, 379-383, 388-417, 427, 432, 437-448
fbs_license_manager/services.py                              315    200    37%   55-56, 61-64, 72-91, 117-158, 162, 185-187, 191-192, 196-204, 213-224, 228-247, 251-252, 256-268, 272-290, 294-296, 309, 315-318, 322-326, 334-383, 392-395, 399-408, 412-433, 437-448, 457-463, 467-474, 482-497, 504, 508-528, 532, 536-549, 553, 562, 571, 591-604, 630-631, 642, 689-691, 700, 704-705, 709-717
fbs_license_manager/setup.py                                   4      4     0%   5-10
fbs_license_manager/tests/__init__.py                          2      2     0%   8-10
fbs_license_manager/tests/test_encryption.py                  32     32     0%   5-98
----------------------------------------------------------------------------------------
TOTAL                                                       8888   6698    25%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

Required test coverage of 15% reached. Total coverage: 24.64%
============================= slowest 10 durations =============================
2.81s setup    tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_app_only_configuration
0.67s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_enterprise_solution_licensing
0.59s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_trial_solution_licensing
0.58s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_professional_solution_licensing
0.58s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_solution_upgrade_scenarios
0.45s call     tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_dms_configuration
0.42s call     tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_app_only_configuration
0.40s call     tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_licensing_configuration
0.39s call     tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_fbs_dms_integration
0.39s call     tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_full_stack_configuration
=========================== short test summary info ============================
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_enterprise_solution_licensing
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_professional_solution_licensing
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_solution_upgrade_scenarios
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_trial_solution_licensing
================= 4 failed, 9 passed, 113 deselected in 12.93s =================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 126 items / 122 deselected / 4 selected

tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_dms PASSED [ 25%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_fbs_only PASSED [ 50%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_licensing PASSED [ 75%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_solution_database_isolation PASSED [100%]

---------- coverage: platform linux, python 3.10.12-final-0 ----------
Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
fbs_app/__init__.py                                            3      0   100%
fbs_app/admin.py                                             241      0   100%
fbs_app/admin_urls.py                                          4      4     0%   7-12
fbs_app/apps.py                                               15      1    93%   15
fbs_app/auth_views.py                                        176    176     0%   7-370
fbs_app/config_template.py                                     5      5     0%   9-85
fbs_app/context_processors.py                                  4      4     0%   7-14
fbs_app/dashboard_urls.py                                      4      4     0%   7-12
fbs_app/health_views.py                                       59     59     0%   7-146
fbs_app/interfaces.py                                        321    195    39%   57-59, 63, 67, 71, 75, 79, 83, 87, 91, 95, 99, 103, 107, 114-116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 175-177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 220-222, 226, 230, 234, 238, 242, 246, 250, 254, 258, 265-267, 271, 275, 279, 283, 287, 291, 295, 299, 303, 310-312, 316, 320, 324, 328, 332, 336, 340, 344, 351-355, 359, 363, 367, 372, 376, 380, 384, 388, 393, 397, 404-406, 412, 419, 424, 429, 435, 442, 449-451, 455, 460, 464, 468, 472, 479-481, 486, 498, 508, 518, 522, 527, 531, 535, 539, 546-602, 606, 625, 645-648, 659, 663-666, 670-673, 683-691, 695-698, 710-718, 724
fbs_app/management/__init__.py                                 0      0   100%
fbs_app/management/commands/__init__.py                        0      0   100%
fbs_app/management/commands/cleanup.py                       182    182     0%   5-347
fbs_app/management/commands/create_token.py                   43     43     0%   7-87
fbs_app/management/commands/generate_services.py              80     80     0%   5-208
fbs_app/management/commands/install_solution.py              127    127     0%   5-310
fbs_app/middleware/__init__.py                                 3      0   100%
fbs_app/middleware/database_routing.py                       122    110    10%   20-150, 154-161, 166-170, 174-176, 180-182, 186-189, 198-214
fbs_app/middleware/request_logging.py                         46     36    22%   20-25, 29-71, 75-115, 119-124
fbs_app/models/__init__.py                                     8      0   100%
fbs_app/models/accounting.py                                 109      4    96%   59, 106, 141, 188
fbs_app/models/bi.py                                          83      4    95%   41, 83, 129, 162
fbs_app/models/compliance.py                                  88      5    94%   46, 88, 118, 156, 180
fbs_app/models/core.py                                       208     41    80%   39, 58, 95, 124, 146, 177, 219, 263, 285, 325, 331-360, 366-393
fbs_app/models/discovery.py                                   93      4    96%   46, 78, 113, 148
fbs_app/models/msme.py                                       100      6    94%   36, 66, 102, 132, 162, 186
fbs_app/models/workflows.py                                   79      4    95%   46, 81, 115, 143
fbs_app/routers.py                                            93     45    52%   19, 25-31, 35-39, 51-54, 65, 71-77, 81-85, 89, 93, 97-100, 104, 120-134, 147, 154
fbs_app/services/__init__.py                                  16      0   100%
fbs_app/services/auth_service.py                              96     81    16%   21-22, 26-62, 70-124, 132-155, 163-195, 203-227, 237-278
fbs_app/services/bi_service.py                               327    292    11%   22-23, 28-51, 55-82, 86-112, 116-130, 135-158, 162-189, 193-229, 234-264, 268-295, 299-321, 326-352, 356-384, 389-404, 410, 422, 434, 449-479, 487-551, 558-605, 613-657, 664-694, 701-714, 718-725, 729-780, 784-810, 814-846
fbs_app/services/business_logic_service.py                   148    132    11%   22-58, 67-110, 115-177, 186-240, 248-288
fbs_app/services/cache_service.py                            187    164    12%   21-24, 28-40, 44-54, 58-67, 71-93, 97-106, 110-120, 124-138, 142-151, 155-164, 168-178, 182-214, 222-231, 235-261, 265-285
fbs_app/services/compliance_service.py                       222    193    13%   21-22, 26-61, 66-96, 101-122, 126-156, 161-185, 189-237, 241-274, 278-323, 330-371, 376-403, 407-435, 439-465, 469-493, 497-526, 530-544, 549, 554, 558, 569, 580
fbs_app/services/database_service.py                         173    153    12%   31-51, 57-60, 77-87, 100-111, 124-167, 183-226, 242-279, 297-350, 371-412, 431-484, 497-554
fbs_app/services/discovery_service.py                        101     85    16%   20-22, 26-68, 76-108, 116-158, 166-199, 207-240, 248-267, 271-287, 291-304
fbs_app/services/field_merger_service.py                     156    129    17%   34-47, 64-91, 108-138, 155-179, 194-205, 224-246, 264-290, 307-330, 346-367, 384-413, 429-469
fbs_app/services/msme_service.py                             105     89    15%   20-21, 25-62, 66-97, 101-127, 135-163, 167-191, 195-222, 226-252, 256-277
fbs_app/services/notification_service.py                     161    139    14%   20-25, 34-93, 100-131, 135-168, 172-205, 209-242, 246-267, 271-289, 293-319, 324-350, 354-375, 379-387, 391-404, 408-433, 437-468
fbs_app/services/odoo_client.py                              165    137    17%   31-34, 39-50, 58-75, 79, 85-98, 108-154, 163-192, 200-227, 236-263, 271-298, 308-338, 346-366, 375-396, 404-424
fbs_app/services/onboarding_service.py                       182    159    13%   21, 26-66, 70-140, 144-169, 173-198, 202-228, 232-257, 262-272, 276-280, 285-316, 320-349, 353-386, 390-425, 429-468, 472-519
fbs_app/services/service_generator.py                        143    130     9%   18-19, 24-47, 57-321, 325, 337-365, 372-381, 388-402, 409-417
fbs_app/services/simple_accounting_service.py                146    129    12%   21-22, 27-59, 64-108, 114-146, 150-223, 228-265, 269-294, 298-341, 345-390
fbs_app/services/workflow_service.py                         266    237    11%   20, 26-82, 90-155, 164-193, 201-229, 237-247, 252-269, 277-297, 301-318, 323-350, 358-366, 374-381, 385-392, 397-427, 431-459, 463-496, 500-526, 530-563, 567-590, 594-624, 628-657, 661-686
fbs_app/signals.py                                           130    123     5%   24-250
fbs_app/tests/__init__.py                                      0      0   100%
fbs_app/tests/conftest.py                                    111    111     0%   12-222
fbs_app/tests/run_all_tests.py                               115    115     0%   15-238
fbs_app/tests/test_interfaces.py                              75     75     0%   8-118
fbs_app/tests/test_models.py                                 177    177     0%   12-516
fbs_app/tests/test_services/__init__.py                        1      1     0%   7
fbs_app/tests/test_services/test_bi_service.py               192    192     0%   7-398
fbs_app/tests/test_services/test_compliance_service.py       181    181     0%   7-405
fbs_app/tests/test_services/test_notification_service.py     202    202     0%   7-441
fbs_app/tests/test_services/test_onboarding_service.py       185    185     0%   7-445
fbs_app/tests/test_services/test_workflow_service.py         170    170     0%   7-376
fbs_app/urls.py                                                7      7     0%   10-74
fbs_dms/__init__.py                                            3      0   100%
fbs_dms/admin.py                                              79     12    85%   68-74, 97, 157-160, 175, 205-207
fbs_dms/apps.py                                               10      0   100%
fbs_dms/models/__init__.py                                     4      0   100%
fbs_dms/models/document.py                                   106     23    78%   42, 46, 50-53, 81-83, 106, 204, 208-210, 214, 218, 222-224, 228-231
fbs_dms/models/file_attachment.py                             75     36    52%   60, 64-71, 75-80, 84, 88, 92, 96-97, 101, 105-113, 117, 121-135, 139-148, 152-156
fbs_dms/models/workflow.py                                    88     36    59%   52, 56, 60, 64-66, 70-79, 124, 128-135, 139-145, 149-160, 164, 168, 172, 176, 180, 184
fbs_dms/services/__init__.py                                   5      5     0%   7-12
fbs_dms/services/document_service.py                         256    256     0%   7-537
fbs_dms/services/file_service.py                             105    105     0%   7-229
fbs_dms/services/search_service.py                           151    151     0%   7-314
fbs_dms/services/workflow_service.py                         159    159     0%   7-310
fbs_dms/setup.py                                              15     15     0%   8-27
fbs_dms/tests/__init__.py                                      3      3     0%   8-11
fbs_dms/tests/test_fbs_integration.py                         98     98     0%   7-252
fbs_dms/tests/test_models.py                                 142    142     0%   7-371
fbs_dms/urls.py                                                4      4     0%   7-41
fbs_dms/views/__init__.py                                      4      4     0%   7-10
fbs_dms/views/document_views.py                              167    167     0%   7-449
fbs_dms/views/file_views.py                                  100    100     0%   7-222
fbs_dms/views/search_views.py                                106    106     0%   7-224
fbs_dms/views/workflow_views.py                              120    120     0%   7-290
fbs_license_manager/__init__.py                                6      0   100%
fbs_license_manager/admin.py                                  72     39    46%   43-45, 49-51, 55-64, 82-109, 115, 119, 129, 133, 137
fbs_license_manager/apps.py                                   10      0   100%
fbs_license_manager/migrations/0001_initial.py                 6      6     0%   3-14
fbs_license_manager/migrations/__init__.py                     0      0   100%
fbs_license_manager/models.py                                205    124    40%   106, 111-130, 134-136, 140-143, 147-150, 154, 158-160, 164-172, 181-185, 189-199, 203-215, 219-230, 234-241, 245-252, 256-264, 268-270, 275, 280-300, 333, 338, 346-356, 361-362, 374, 379-383, 388-417, 427, 432, 437-448
fbs_license_manager/services.py                              315    257    18%   22-28, 32, 36-64, 68-91, 101-158, 162, 179-181, 185-187, 191-192, 196-204, 213-224, 228-247, 251-252, 256-268, 272-290, 294-296, 303-304, 308-311, 315-318, 322-326, 334-383, 392-395, 399-408, 412-433, 437-448, 457-463, 467-474, 482-497, 504, 508-528, 532, 536-549, 553, 562, 571, 591-604, 611-617, 621-655, 659, 672, 685-691, 695-696, 700, 704-705, 709-717, 726-731
fbs_license_manager/setup.py                                   4      4     0%   5-10
fbs_license_manager/tests/__init__.py                          2      2     0%   8-10
fbs_license_manager/tests/test_encryption.py                  32     32     0%   5-98
----------------------------------------------------------------------------------------
TOTAL                                                       8888   6933    22%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

Required test coverage of 15% reached. Total coverage: 22.00%

============================= slowest 10 durations =============================
4.14s setup    tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_dms
0.39s call     tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_solution_database_isolation
0.39s call     tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_licensing
0.38s call     tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_fbs_only
0.38s call     tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_dms
0.01s teardown tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_solution_database_isolation
0.00s setup    tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_solution_database_isolation
0.00s setup    tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_fbs_only
0.00s setup    tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_licensing
0.00s teardown tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_dms
====================== 4 passed, 122 deselected in 10.80s ======================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 126 items / 115 deselected / 11 selected

tests/test_basic_functionality.py::TestPerformanceBasics::test_bulk_user_creation PASSED [  9%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_fbs_only_performance PASSED [ 18%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_full_stack_performance PASSED [ 27%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_dms_performance PASSED [ 36%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_licensing_performance PASSED [ 45%]
tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_bulk_operations_performance FAILED [ 54%]
tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_query_performance FAILED [ 63%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_bulk_license_creation_performance PASSED [ 72%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_cache_performance FAILED [ 81%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_feature_checking_performance FAILED [ 90%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_license_lookup_performance PASSED [100%]

=================================== FAILURES ===================================
____________ TestFBSAppPerformance.test_bulk_operations_performance ____________
tests/test_fbs_app_comprehensive.py:778: in test_bulk_operations_performance
    log = RequestLog(
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: RequestLog() got unexpected keyword arguments: 'endpoint', 'response_status'
_________________ TestFBSAppPerformance.test_query_performance _________________
tests/test_fbs_app_comprehensive.py:806: in test_query_performance
    log = RequestLog.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: RequestLog() got unexpected keyword arguments: 'endpoint', 'response_status'
_____________ TestLicenseManagerPerformance.test_cache_performance _____________
tests/test_license_manager_comprehensive.py:1011: in test_cache_performance
    license_manager.is_feature_available('feature1')
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
_______ TestLicenseManagerPerformance.test_feature_checking_performance ________
tests/test_license_manager_comprehensive.py:985: in test_feature_checking_performance
    license_manager.is_feature_available('feature1')
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'

---------- coverage: platform linux, python 3.10.12-final-0 ----------
Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
fbs_app/__init__.py                                            3      0   100%
fbs_app/admin.py                                             241      0   100%
fbs_app/admin_urls.py                                          4      4     0%   7-12
fbs_app/apps.py                                               15      1    93%   15
fbs_app/auth_views.py                                        176    176     0%   7-370
fbs_app/config_template.py                                     5      5     0%   9-85
fbs_app/context_processors.py                                  4      4     0%   7-14
fbs_app/dashboard_urls.py                                      4      4     0%   7-12
fbs_app/health_views.py                                       59     59     0%   7-146
fbs_app/interfaces.py                                        321    168    48%   57-59, 63, 67, 71, 75, 79, 83, 87, 91, 95, 99, 103, 107, 114-116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 175-177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 220-222, 226, 230, 234, 238, 242, 246, 250, 254, 258, 265-267, 271, 275, 279, 283, 287, 291, 295, 299, 303, 310-312, 316, 320, 324, 328, 332, 336, 340, 344, 359, 363, 367, 372, 376, 380, 384, 388, 393, 397, 404-406, 412, 419, 424, 429, 435, 442, 449-451, 455, 460, 464, 468, 472, 479-481, 486, 498, 508, 518, 522, 527, 531, 535, 539, 555-559, 567, 570, 573, 576, 579, 582, 585, 588, 591-602, 606, 625, 645-648, 659, 670-673, 683-691, 695-698, 710-718, 724
fbs_app/management/__init__.py                                 0      0   100%
fbs_app/management/commands/__init__.py                        0      0   100%
fbs_app/management/commands/cleanup.py                       182    182     0%   5-347
fbs_app/management/commands/create_token.py                   43     43     0%   7-87
fbs_app/management/commands/generate_services.py              80     80     0%   5-208
fbs_app/management/commands/install_solution.py              127    127     0%   5-310
fbs_app/middleware/__init__.py                                 3      0   100%
fbs_app/middleware/database_routing.py                       122    110    10%   20-150, 154-161, 166-170, 174-176, 180-182, 186-189, 198-214
fbs_app/middleware/request_logging.py                         46     36    22%   20-25, 29-71, 75-115, 119-124
fbs_app/models/__init__.py                                     8      0   100%
fbs_app/models/accounting.py                                 109      4    96%   59, 106, 141, 188
fbs_app/models/bi.py                                          83      4    95%   41, 83, 129, 162
fbs_app/models/compliance.py                                  88      5    94%   46, 88, 118, 156, 180
fbs_app/models/core.py                                       208     41    80%   39, 58, 95, 124, 146, 177, 219, 263, 285, 325, 331-360, 366-393
fbs_app/models/discovery.py                                   93      4    96%   46, 78, 113, 148
fbs_app/models/msme.py                                       100      6    94%   36, 66, 102, 132, 162, 186
fbs_app/models/workflows.py                                   79      4    95%   46, 81, 115, 143
fbs_app/routers.py                                            93     46    51%   19, 25-31, 35-39, 51-54, 58, 65, 71-77, 81-85, 89, 97-100, 104, 130-134, 147, 154, 158-163
fbs_app/services/__init__.py                                  16      0   100%
fbs_app/services/auth_service.py                              96     81    16%   21-22, 26-62, 70-124, 132-155, 163-195, 203-227, 237-278
fbs_app/services/bi_service.py                               327    292    11%   22-23, 28-51, 55-82, 86-112, 116-130, 135-158, 162-189, 193-229, 234-264, 268-295, 299-321, 326-352, 356-384, 389-404, 410, 422, 434, 449-479, 487-551, 558-605, 613-657, 664-694, 701-714, 718-725, 729-780, 784-810, 814-846
fbs_app/services/business_logic_service.py                   148    132    11%   22-58, 67-110, 115-177, 186-240, 248-288
fbs_app/services/cache_service.py                            187    164    12%   21-24, 28-40, 44-54, 58-67, 71-93, 97-106, 110-120, 124-138, 142-151, 155-164, 168-178, 182-214, 222-231, 235-261, 265-285
fbs_app/services/compliance_service.py                       222    193    13%   21-22, 26-61, 66-96, 101-122, 126-156, 161-185, 189-237, 241-274, 278-323, 330-371, 376-403, 407-435, 439-465, 469-493, 497-526, 530-544, 549, 554, 558, 569, 580
fbs_app/services/database_service.py                         173    153    12%   31-51, 57-60, 77-87, 100-111, 124-167, 183-226, 242-279, 297-350, 371-412, 431-484, 497-554
fbs_app/services/discovery_service.py                        101     82    19%   26-68, 76-108, 116-158, 166-199, 207-240, 248-267, 271-287, 291-304
fbs_app/services/field_merger_service.py                     156    129    17%   34-47, 64-91, 108-138, 155-179, 194-205, 224-246, 264-290, 307-330, 346-367, 384-413, 429-469
fbs_app/services/msme_service.py                             105     89    15%   20-21, 25-62, 66-97, 101-127, 135-163, 167-191, 195-222, 226-252, 256-277
fbs_app/services/notification_service.py                     161    139    14%   20-25, 34-93, 100-131, 135-168, 172-205, 209-242, 246-267, 271-289, 293-319, 324-350, 354-375, 379-387, 391-404, 408-433, 437-468
fbs_app/services/odoo_client.py                              165    133    19%   39-50, 58-75, 79, 85-98, 108-154, 163-192, 200-227, 236-263, 271-298, 308-338, 346-366, 375-396, 404-424
fbs_app/services/onboarding_service.py                       182    159    13%   21, 26-66, 70-140, 144-169, 173-198, 202-228, 232-257, 262-272, 276-280, 285-316, 320-349, 353-386, 390-425, 429-468, 472-519
fbs_app/services/service_generator.py                        143    130     9%   18-19, 24-47, 57-321, 325, 337-365, 372-381, 388-402, 409-417
fbs_app/services/simple_accounting_service.py                146    129    12%   21-22, 27-59, 64-108, 114-146, 150-223, 228-265, 269-294, 298-341, 345-390
fbs_app/services/workflow_service.py                         266    237    11%   20, 26-82, 90-155, 164-193, 201-229, 237-247, 252-269, 277-297, 301-318, 323-350, 358-366, 374-381, 385-392, 397-427, 431-459, 463-496, 500-526, 530-563, 567-590, 594-624, 628-657, 661-686
fbs_app/signals.py                                           130    123     5%   24-250
fbs_app/tests/__init__.py                                      0      0   100%
fbs_app/tests/conftest.py                                    111    111     0%   12-222
fbs_app/tests/run_all_tests.py                               115    115     0%   15-238
fbs_app/tests/test_interfaces.py                              75     75     0%   8-118
fbs_app/tests/test_models.py                                 177    177     0%   12-516
fbs_app/tests/test_services/__init__.py                        1      1     0%   7
fbs_app/tests/test_services/test_bi_service.py               192    192     0%   7-398
fbs_app/tests/test_services/test_compliance_service.py       181    181     0%   7-405
fbs_app/tests/test_services/test_notification_service.py     202    202     0%   7-441
fbs_app/tests/test_services/test_onboarding_service.py       185    185     0%   7-445
fbs_app/tests/test_services/test_workflow_service.py         170    170     0%   7-376
fbs_app/urls.py                                                7      7     0%   10-74
fbs_dms/__init__.py                                            3      0   100%
fbs_dms/admin.py                                              79     12    85%   68-74, 97, 157-160, 175, 205-207
fbs_dms/apps.py                                               10      0   100%
fbs_dms/models/__init__.py                                     4      0   100%
fbs_dms/models/document.py                                   106     23    78%   42, 46, 50-53, 81-83, 106, 204, 208-210, 214, 218, 222-224, 228-231
fbs_dms/models/file_attachment.py                             75     36    52%   60, 64-71, 75-80, 84, 88, 92, 96-97, 101, 105-113, 117, 121-135, 139-148, 152-156
fbs_dms/models/workflow.py                                    88     36    59%   52, 56, 60, 64-66, 70-79, 124, 128-135, 139-145, 149-160, 164, 168, 172, 176, 180, 184
fbs_dms/services/__init__.py                                   5      0   100%
fbs_dms/services/document_service.py                         256    214    16%   35-92, 101-134, 138-163, 167, 176-186, 195-209, 213, 217, 221, 225-231, 235-238, 242-245, 249-251, 260-268, 273-281, 286-293, 297-318, 322-325, 329-351, 356-360, 364-369, 373, 403-414, 418-440, 444-465, 476-499, 504-518, 523-537
fbs_dms/services/file_service.py                             105     84    20%   24, 33-49, 53-66, 70-87, 95-118, 125-148, 152-158, 162-173, 178-195, 200-207, 211-229
fbs_dms/services/search_service.py                           151    128    15%   25, 34-53, 61-85, 93-129, 137-173, 177-208, 212-245, 249-264, 268-277, 281-289, 293-305, 309-314
fbs_dms/services/workflow_service.py                         159    132    17%   25, 29-59, 63-88, 92-115, 119-143, 147-182, 186-195, 199-226, 232-242, 247-250, 254, 258-264, 268-274, 279-286, 291-298, 303-310
fbs_dms/setup.py                                              15     15     0%   8-27
fbs_dms/tests/__init__.py                                      3      3     0%   8-11
fbs_dms/tests/test_fbs_integration.py                         98     98     0%   7-252
fbs_dms/tests/test_models.py                                 142    142     0%   7-371
fbs_dms/urls.py                                                4      4     0%   7-41
fbs_dms/views/__init__.py                                      4      4     0%   7-10
fbs_dms/views/document_views.py                              167    167     0%   7-449
fbs_dms/views/file_views.py                                  100    100     0%   7-222
fbs_dms/views/search_views.py                                106    106     0%   7-224
fbs_dms/views/workflow_views.py                              120    120     0%   7-290
fbs_license_manager/__init__.py                                6      0   100%
fbs_license_manager/admin.py                                  72     39    46%   43-45, 49-51, 55-64, 82-109, 115, 119, 129, 133, 137
fbs_license_manager/apps.py                                   10      0   100%
fbs_license_manager/migrations/0001_initial.py                 6      6     0%   3-14
fbs_license_manager/migrations/__init__.py                     0      0   100%
fbs_license_manager/models.py                                205     92    55%   106, 114-115, 120-121, 134-136, 142-143, 149-150, 154, 158-160, 164-172, 181-185, 189-199, 236, 239-241, 245-252, 258, 263-264, 268-270, 280-300, 333, 338, 346-356, 361-362, 374, 379-383, 388-417, 427, 432, 437-448
fbs_license_manager/services.py                              315    202    36%   55-56, 61-64, 72-91, 117-158, 162, 185-187, 191-192, 196-204, 213-224, 228-247, 251-252, 256-268, 272-290, 294-296, 309, 315-318, 322-326, 334-383, 392-395, 399-408, 412-433, 437-448, 457-463, 467-474, 482-497, 504, 508-528, 532, 536-549, 553, 562, 571, 591-604, 630-631, 642, 689-691, 695-696, 700, 704-705, 709-717
fbs_license_manager/setup.py                                   4      4     0%   5-10
fbs_license_manager/tests/__init__.py                          2      2     0%   8-10
fbs_license_manager/tests/test_encryption.py                  32     32     0%   5-98
----------------------------------------------------------------------------------------
TOTAL                                                       8888   6695    25%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

Required test coverage of 15% reached. Total coverage: 24.67%
============================= slowest 20 durations =============================
16.99s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_bulk_license_creation_performance
11.66s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_feature_checking_performance
9.80s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_license_lookup_performance
8.85s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_cache_performance
5.52s call     tests/test_basic_functionality.py::TestPerformanceBasics::test_bulk_user_creation
3.36s setup    tests/test_basic_functionality.py::TestPerformanceBasics::test_bulk_user_creation
0.55s call     tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_full_stack_performance
0.50s call     tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_dms_performance
0.49s call     tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_fbs_only_performance
0.47s call     tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_bulk_operations_performance
0.46s call     tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_query_performance
0.45s call     tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_licensing_performance
0.04s setup    tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_bulk_license_creation_performance
0.03s setup    tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_fbs_only_performance
0.02s setup    tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_bulk_operations_performance
0.02s teardown tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_license_lookup_performance
0.00s setup    tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_cache_performance
0.00s setup    tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_feature_checking_performance
0.00s setup    tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_license_lookup_performance
0.00s setup    tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_dms_performance
=========================== short test summary info ============================
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_bulk_operations_performance
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_query_performance
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_cache_performance
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_feature_checking_performance
============ 4 failed, 7 passed, 115 deselected in 70.50s (0:01:10) ============
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 126 items / 113 deselected / 13 selected

tests/test_basic_functionality.py::TestSecurityBasics::test_password_security PASSED [  7%]
tests/test_basic_functionality.py::TestSecurityBasics::test_user_isolation PASSED [ 15%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_fbs_only_security PASSED [ 23%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_full_stack_security PASSED [ 30%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_with_dms_security PASSED [ 38%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_with_licensing_security PASSED [ 46%]
tests/test_fbs_app_comprehensive.py::TestFBSAppSecurity::test_data_isolation PASSED [ 53%]
tests/test_fbs_app_comprehensive.py::TestFBSAppSecurity::test_sql_injection_prevention PASSED [ 61%]
tests/test_fbs_app_comprehensive.py::TestFBSAppSecurity::test_xss_prevention PASSED [ 69%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_encrypted_data_storage PASSED [ 76%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_encryption_key_derivation PASSED [ 84%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_license_key_encryption PASSED [ 92%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_malicious_input_handling FAILED [100%]

=================================== FAILURES ===================================
___________ TestLicenseManagerSecurity.test_malicious_input_handling ___________
tests/test_license_manager_comprehensive.py:568: in test_malicious_input_handling
    self.assertEqual(retrieved_license.license_key, malicious_key)
E   AssertionError: 'gAAAAABoqhcFxzSai5HKDHglZEy-48O2Juk0Uh7s[120 chars]dA==' != "'; DROP TABLE fbs_license_manager_solution_license; --"
E   - gAAAAABoqhcFxzSai5HKDHglZEy-48O2Juk0Uh7sEnCu_QAV6gREByFB7XwbvMHxKjodXaM9Lf5s7TI3yCRrkfJyViKs1jI_KrM9HrwNl9AeC-Oq96ddbXJ7omCEKowA01dS53g7nhBlg7xmEKG-eKmxC-xOkQsUdA==
E   + '; DROP TABLE fbs_license_manager_solution_license; --

During handling of the above exception, another exception occurred:
tests/test_license_manager_comprehensive.py:576: in test_malicious_input_handling
    self.assertNotIn('DROP TABLE', str(e))
E   AssertionError: 'DROP TABLE' unexpectedly found in '\'gAAAAABoqhcFxzSai5HKDHglZEy-48O2Juk0Uh7s[120 chars]dA==\' != "\'; DROP TABLE fbs_license_manager_solution_license; --"\n- gAAAAABoqhcFxzSai5HKDHglZEy-48O2Juk0Uh7sEnCu_QAV6gREByFB7XwbvMHxKjodXaM9Lf5s7TI3yCRrkfJyViKs1jI_KrM9HrwNl9AeC-Oq96ddbXJ7omCEKowA01dS53g7nhBlg7xmEKG-eKmxC-xOkQsUdA==\n+ \'; DROP TABLE fbs_license_manager_solution_license; --\n'

---------- coverage: platform linux, python 3.10.12-final-0 ----------
Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
fbs_app/__init__.py                                            3      0   100%
fbs_app/admin.py                                             241      0   100%
fbs_app/admin_urls.py                                          4      4     0%   7-12
fbs_app/apps.py                                               15      1    93%   15
fbs_app/auth_views.py                                        176    176     0%   7-370
fbs_app/config_template.py                                     5      5     0%   9-85
fbs_app/context_processors.py                                  4      4     0%   7-14
fbs_app/dashboard_urls.py                                      4      4     0%   7-12
fbs_app/health_views.py                                       59     59     0%   7-146
fbs_app/interfaces.py                                        321    168    48%   57-59, 63, 67, 71, 75, 79, 83, 87, 91, 95, 99, 103, 107, 114-116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 175-177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 220-222, 226, 230, 234, 238, 242, 246, 250, 254, 258, 265-267, 271, 275, 279, 283, 287, 291, 295, 299, 303, 310-312, 316, 320, 324, 328, 332, 336, 340, 344, 359, 363, 367, 372, 376, 380, 384, 388, 393, 397, 404-406, 412, 419, 424, 429, 435, 442, 449-451, 455, 460, 464, 468, 472, 479-481, 486, 498, 508, 518, 522, 527, 531, 535, 539, 555-559, 567, 570, 573, 576, 579, 582, 585, 588, 591-602, 606, 625, 645-648, 659, 670-673, 683-691, 695-698, 710-718, 724
fbs_app/management/__init__.py                                 0      0   100%
fbs_app/management/commands/__init__.py                        0      0   100%
fbs_app/management/commands/cleanup.py                       182    182     0%   5-347
fbs_app/management/commands/create_token.py                   43     43     0%   7-87
fbs_app/management/commands/generate_services.py              80     80     0%   5-208
fbs_app/management/commands/install_solution.py              127    127     0%   5-310
fbs_app/middleware/__init__.py                                 3      0   100%
fbs_app/middleware/database_routing.py                       122    110    10%   20-150, 154-161, 166-170, 174-176, 180-182, 186-189, 198-214
fbs_app/middleware/request_logging.py                         46     36    22%   20-25, 29-71, 75-115, 119-124
fbs_app/models/__init__.py                                     8      0   100%
fbs_app/models/accounting.py                                 109      4    96%   59, 106, 141, 188
fbs_app/models/bi.py                                          83      4    95%   41, 83, 129, 162
fbs_app/models/compliance.py                                  88      5    94%   46, 88, 118, 156, 180
fbs_app/models/core.py                                       208     41    80%   39, 58, 95, 124, 146, 177, 219, 263, 285, 325, 331-360, 366-393
fbs_app/models/discovery.py                                   93      4    96%   46, 78, 113, 148
fbs_app/models/msme.py                                       100      6    94%   36, 66, 102, 132, 162, 186
fbs_app/models/workflows.py                                   79      4    95%   46, 81, 115, 143
fbs_app/routers.py                                            93     46    51%   19, 25-31, 35-39, 51-54, 58, 65, 71-77, 81-85, 89, 97-100, 104, 130-134, 147, 154, 158-163
fbs_app/services/__init__.py                                  16      0   100%
fbs_app/services/auth_service.py                              96     81    16%   21-22, 26-62, 70-124, 132-155, 163-195, 203-227, 237-278
fbs_app/services/bi_service.py                               327    292    11%   22-23, 28-51, 55-82, 86-112, 116-130, 135-158, 162-189, 193-229, 234-264, 268-295, 299-321, 326-352, 356-384, 389-404, 410, 422, 434, 449-479, 487-551, 558-605, 613-657, 664-694, 701-714, 718-725, 729-780, 784-810, 814-846
fbs_app/services/business_logic_service.py                   148    132    11%   22-58, 67-110, 115-177, 186-240, 248-288
fbs_app/services/cache_service.py                            187    164    12%   21-24, 28-40, 44-54, 58-67, 71-93, 97-106, 110-120, 124-138, 142-151, 155-164, 168-178, 182-214, 222-231, 235-261, 265-285
fbs_app/services/compliance_service.py                       222    193    13%   21-22, 26-61, 66-96, 101-122, 126-156, 161-185, 189-237, 241-274, 278-323, 330-371, 376-403, 407-435, 439-465, 469-493, 497-526, 530-544, 549, 554, 558, 569, 580
fbs_app/services/database_service.py                         173    153    12%   31-51, 57-60, 77-87, 100-111, 124-167, 183-226, 242-279, 297-350, 371-412, 431-484, 497-554
fbs_app/services/discovery_service.py                        101     82    19%   26-68, 76-108, 116-158, 166-199, 207-240, 248-267, 271-287, 291-304
fbs_app/services/field_merger_service.py                     156    129    17%   34-47, 64-91, 108-138, 155-179, 194-205, 224-246, 264-290, 307-330, 346-367, 384-413, 429-469
fbs_app/services/msme_service.py                             105     89    15%   20-21, 25-62, 66-97, 101-127, 135-163, 167-191, 195-222, 226-252, 256-277
fbs_app/services/notification_service.py                     161    139    14%   20-25, 34-93, 100-131, 135-168, 172-205, 209-242, 246-267, 271-289, 293-319, 324-350, 354-375, 379-387, 391-404, 408-433, 437-468
fbs_app/services/odoo_client.py                              165    133    19%   39-50, 58-75, 79, 85-98, 108-154, 163-192, 200-227, 236-263, 271-298, 308-338, 346-366, 375-396, 404-424
fbs_app/services/onboarding_service.py                       182    159    13%   21, 26-66, 70-140, 144-169, 173-198, 202-228, 232-257, 262-272, 276-280, 285-316, 320-349, 353-386, 390-425, 429-468, 472-519
fbs_app/services/service_generator.py                        143    130     9%   18-19, 24-47, 57-321, 325, 337-365, 372-381, 388-402, 409-417
fbs_app/services/simple_accounting_service.py                146    129    12%   21-22, 27-59, 64-108, 114-146, 150-223, 228-265, 269-294, 298-341, 345-390
fbs_app/services/workflow_service.py                         266    237    11%   20, 26-82, 90-155, 164-193, 201-229, 237-247, 252-269, 277-297, 301-318, 323-350, 358-366, 374-381, 385-392, 397-427, 431-459, 463-496, 500-526, 530-563, 567-590, 594-624, 628-657, 661-686
fbs_app/signals.py                                           130    123     5%   24-250
fbs_app/tests/__init__.py                                      0      0   100%
fbs_app/tests/conftest.py                                    111    111     0%   12-222
fbs_app/tests/run_all_tests.py                               115    115     0%   15-238
fbs_app/tests/test_interfaces.py                              75     75     0%   8-118
fbs_app/tests/test_models.py                                 177    177     0%   12-516
fbs_app/tests/test_services/__init__.py                        1      1     0%   7
fbs_app/tests/test_services/test_bi_service.py               192    192     0%   7-398
fbs_app/tests/test_services/test_compliance_service.py       181    181     0%   7-405
fbs_app/tests/test_services/test_notification_service.py     202    202     0%   7-441
fbs_app/tests/test_services/test_onboarding_service.py       185    185     0%   7-445
fbs_app/tests/test_services/test_workflow_service.py         170    170     0%   7-376
fbs_app/urls.py                                                7      7     0%   10-74
fbs_dms/__init__.py                                            3      0   100%
fbs_dms/admin.py                                              79     12    85%   68-74, 97, 157-160, 175, 205-207
fbs_dms/apps.py                                               10      0   100%
fbs_dms/models/__init__.py                                     4      0   100%
fbs_dms/models/document.py                                   106     23    78%   42, 46, 50-53, 81-83, 106, 204, 208-210, 214, 218, 222-224, 228-231
fbs_dms/models/file_attachment.py                             75     36    52%   60, 64-71, 75-80, 84, 88, 92, 96-97, 101, 105-113, 117, 121-135, 139-148, 152-156
fbs_dms/models/workflow.py                                    88     36    59%   52, 56, 60, 64-66, 70-79, 124, 128-135, 139-145, 149-160, 164, 168, 172, 176, 180, 184
fbs_dms/services/__init__.py                                   5      0   100%
fbs_dms/services/document_service.py                         256    214    16%   35-92, 101-134, 138-163, 167, 176-186, 195-209, 213, 217, 221, 225-231, 235-238, 242-245, 249-251, 260-268, 273-281, 286-293, 297-318, 322-325, 329-351, 356-360, 364-369, 373, 403-414, 418-440, 444-465, 476-499, 504-518, 523-537
fbs_dms/services/file_service.py                             105     84    20%   24, 33-49, 53-66, 70-87, 95-118, 125-148, 152-158, 162-173, 178-195, 200-207, 211-229
fbs_dms/services/search_service.py                           151    128    15%   25, 34-53, 61-85, 93-129, 137-173, 177-208, 212-245, 249-264, 268-277, 281-289, 293-305, 309-314
fbs_dms/services/workflow_service.py                         159    132    17%   25, 29-59, 63-88, 92-115, 119-143, 147-182, 186-195, 199-226, 232-242, 247-250, 254, 258-264, 268-274, 279-286, 291-298, 303-310
fbs_dms/setup.py                                              15     15     0%   8-27
fbs_dms/tests/__init__.py                                      3      3     0%   8-11
fbs_dms/tests/test_fbs_integration.py                         98     98     0%   7-252
fbs_dms/tests/test_models.py                                 142    142     0%   7-371
fbs_dms/urls.py                                                4      4     0%   7-41
fbs_dms/views/__init__.py                                      4      4     0%   7-10
fbs_dms/views/document_views.py                              167    167     0%   7-449
fbs_dms/views/file_views.py                                  100    100     0%   7-222
fbs_dms/views/search_views.py                                106    106     0%   7-224
fbs_dms/views/workflow_views.py                              120    120     0%   7-290
fbs_license_manager/__init__.py                                6      0   100%
fbs_license_manager/admin.py                                  72     39    46%   43-45, 49-51, 55-64, 82-109, 115, 119, 129, 133, 137
fbs_license_manager/apps.py                                   10      0   100%
fbs_license_manager/migrations/0001_initial.py                 6      6     0%   3-14
fbs_license_manager/migrations/__init__.py                     0      0   100%
fbs_license_manager/models.py                                205     86    58%   106, 114-115, 120-121, 134-136, 142-143, 149-150, 154, 158-160, 164-172, 181-185, 189-199, 236, 239-241, 247, 250-252, 258, 263-264, 269, 280-300, 333, 338, 346-356, 361-362, 374, 379-383, 388-417, 427, 432, 437-448
fbs_license_manager/services.py                              315    208    34%   41-50, 55-56, 61-64, 72-91, 117-158, 162, 185-187, 191-192, 196-204, 213-224, 228-247, 251-252, 256-268, 272-290, 294-296, 309, 315-318, 322-326, 334-383, 392-395, 399-408, 412-433, 437-448, 457-463, 467-474, 482-497, 504, 508-528, 532, 536-549, 553, 562, 571, 591-604, 630-642, 672, 689-691, 695-696, 700, 704-705, 709-717
fbs_license_manager/setup.py                                   4      4     0%   5-10
fbs_license_manager/tests/__init__.py                          2      2     0%   8-10
fbs_license_manager/tests/test_encryption.py                  32     32     0%   5-98
----------------------------------------------------------------------------------------
TOTAL                                                       8888   6695    25%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

Required test coverage of 15% reached. Total coverage: 24.67%
============================= slowest 10 durations =============================
4.55s setup    tests/test_basic_functionality.py::TestSecurityBasics::test_password_security
1.44s call     tests/test_basic_functionality.py::TestSecurityBasics::test_password_security
1.16s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_encrypted_data_storage
1.04s call     tests/test_basic_functionality.py::TestSecurityBasics::test_user_isolation
1.02s call     tests/test_fbs_app_comprehensive.py::TestFBSAppSecurity::test_data_isolation
0.72s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_malicious_input_handling
0.66s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_license_key_encryption
0.66s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_encryption_key_derivation
0.52s call     tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_with_licensing_security
0.51s call     tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_with_dms_security
=========================== short test summary info ============================
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_malicious_input_handling
================ 1 failed, 12 passed, 113 deselected in 22.05s =================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 126 items / 120 deselected / 6 selected

tests/test_basic_functionality.py::TestEndToEndBasics::test_complete_user_lifecycle PASSED [ 16%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_basic_fbs_workflow PASSED [ 33%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_dms_workflow PASSED [ 50%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_full_stack_workflow PASSED [ 66%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_licensed_workflow PASSED [ 83%]
tests/test_fbs_app_comprehensive.py::TestFBSAppEndToEnd::test_complete_business_workflow FAILED [100%]

=================================== FAILURES ===================================
______________ TestFBSAppEndToEnd.test_complete_business_workflow ______________
tests/test_fbs_app_comprehensive.py:948: in test_complete_business_workflow
    msme_wizard = MSMESetupWizard.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: MSMESetupWizard() got unexpected keyword arguments: 'company_name', 'setup_stage', 'setup_data'

---------- coverage: platform linux, python 3.10.12-final-0 ----------
Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
fbs_app/__init__.py                                            3      0   100%
fbs_app/admin.py                                             241      0   100%
fbs_app/admin_urls.py                                          4      4     0%   7-12
fbs_app/apps.py                                               15      1    93%   15
fbs_app/auth_views.py                                        176    176     0%   7-370
fbs_app/config_template.py                                     5      5     0%   9-85
fbs_app/context_processors.py                                  4      4     0%   7-14
fbs_app/dashboard_urls.py                                      4      4     0%   7-12
fbs_app/health_views.py                                       59     59     0%   7-146
fbs_app/interfaces.py                                        321    168    48%   57-59, 63, 67, 71, 75, 79, 83, 87, 91, 95, 99, 103, 107, 114-116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 175-177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 220-222, 226, 230, 234, 238, 242, 246, 250, 254, 258, 265-267, 271, 275, 279, 283, 287, 291, 295, 299, 303, 310-312, 316, 320, 324, 328, 332, 336, 340, 344, 359, 363, 367, 372, 376, 380, 384, 388, 393, 397, 404-406, 412, 419, 424, 429, 435, 442, 449-451, 455, 460, 464, 468, 472, 479-481, 486, 498, 508, 518, 522, 527, 531, 535, 539, 555-559, 567, 570, 573, 576, 579, 582, 585, 588, 591-602, 606, 625, 645-648, 659, 670-673, 683-691, 695-698, 710-718, 724
fbs_app/management/__init__.py                                 0      0   100%
fbs_app/management/commands/__init__.py                        0      0   100%
fbs_app/management/commands/cleanup.py                       182    182     0%   5-347
fbs_app/management/commands/create_token.py                   43     43     0%   7-87
fbs_app/management/commands/generate_services.py              80     80     0%   5-208
fbs_app/management/commands/install_solution.py              127    127     0%   5-310
fbs_app/middleware/__init__.py                                 3      0   100%
fbs_app/middleware/database_routing.py                       122    110    10%   20-150, 154-161, 166-170, 174-176, 180-182, 186-189, 198-214
fbs_app/middleware/request_logging.py                         46     36    22%   20-25, 29-71, 75-115, 119-124
fbs_app/models/__init__.py                                     8      0   100%
fbs_app/models/accounting.py                                 109      4    96%   59, 106, 141, 188
fbs_app/models/bi.py                                          83      4    95%   41, 83, 129, 162
fbs_app/models/compliance.py                                  88      5    94%   46, 88, 118, 156, 180
fbs_app/models/core.py                                       208     41    80%   39, 58, 95, 124, 146, 177, 219, 263, 285, 325, 331-360, 366-393
fbs_app/models/discovery.py                                   93      4    96%   46, 78, 113, 148
fbs_app/models/msme.py                                       100      6    94%   36, 66, 102, 132, 162, 186
fbs_app/models/workflows.py                                   79      4    95%   46, 81, 115, 143
fbs_app/routers.py                                            93     53    43%   19, 25-31, 35-39, 47, 51-54, 58, 65, 71-77, 81-85, 89, 93, 97-100, 104, 120-134, 147, 154, 158-163
fbs_app/services/__init__.py                                  16      0   100%
fbs_app/services/auth_service.py                              96     81    16%   21-22, 26-62, 70-124, 132-155, 163-195, 203-227, 237-278
fbs_app/services/bi_service.py                               327    292    11%   22-23, 28-51, 55-82, 86-112, 116-130, 135-158, 162-189, 193-229, 234-264, 268-295, 299-321, 326-352, 356-384, 389-404, 410, 422, 434, 449-479, 487-551, 558-605, 613-657, 664-694, 701-714, 718-725, 729-780, 784-810, 814-846
fbs_app/services/business_logic_service.py                   148    132    11%   22-58, 67-110, 115-177, 186-240, 248-288
fbs_app/services/cache_service.py                            187    164    12%   21-24, 28-40, 44-54, 58-67, 71-93, 97-106, 110-120, 124-138, 142-151, 155-164, 168-178, 182-214, 222-231, 235-261, 265-285
fbs_app/services/compliance_service.py                       222    193    13%   21-22, 26-61, 66-96, 101-122, 126-156, 161-185, 189-237, 241-274, 278-323, 330-371, 376-403, 407-435, 439-465, 469-493, 497-526, 530-544, 549, 554, 558, 569, 580
fbs_app/services/database_service.py                         173    153    12%   31-51, 57-60, 77-87, 100-111, 124-167, 183-226, 242-279, 297-350, 371-412, 431-484, 497-554
fbs_app/services/discovery_service.py                        101     82    19%   26-68, 76-108, 116-158, 166-199, 207-240, 248-267, 271-287, 291-304
fbs_app/services/field_merger_service.py                     156    129    17%   34-47, 64-91, 108-138, 155-179, 194-205, 224-246, 264-290, 307-330, 346-367, 384-413, 429-469
fbs_app/services/msme_service.py                             105     89    15%   20-21, 25-62, 66-97, 101-127, 135-163, 167-191, 195-222, 226-252, 256-277
fbs_app/services/notification_service.py                     161    139    14%   20-25, 34-93, 100-131, 135-168, 172-205, 209-242, 246-267, 271-289, 293-319, 324-350, 354-375, 379-387, 391-404, 408-433, 437-468
fbs_app/services/odoo_client.py                              165    133    19%   39-50, 58-75, 79, 85-98, 108-154, 163-192, 200-227, 236-263, 271-298, 308-338, 346-366, 375-396, 404-424
fbs_app/services/onboarding_service.py                       182    159    13%   21, 26-66, 70-140, 144-169, 173-198, 202-228, 232-257, 262-272, 276-280, 285-316, 320-349, 353-386, 390-425, 429-468, 472-519
fbs_app/services/service_generator.py                        143    130     9%   18-19, 24-47, 57-321, 325, 337-365, 372-381, 388-402, 409-417
fbs_app/services/simple_accounting_service.py                146    129    12%   21-22, 27-59, 64-108, 114-146, 150-223, 228-265, 269-294, 298-341, 345-390
fbs_app/services/workflow_service.py                         266    237    11%   20, 26-82, 90-155, 164-193, 201-229, 237-247, 252-269, 277-297, 301-318, 323-350, 358-366, 374-381, 385-392, 397-427, 431-459, 463-496, 500-526, 530-563, 567-590, 594-624, 628-657, 661-686
fbs_app/signals.py                                           130    123     5%   24-250
fbs_app/tests/__init__.py                                      0      0   100%
fbs_app/tests/conftest.py                                    111    111     0%   12-222
fbs_app/tests/run_all_tests.py                               115    115     0%   15-238
fbs_app/tests/test_interfaces.py                              75     75     0%   8-118
fbs_app/tests/test_models.py                                 177    177     0%   12-516
fbs_app/tests/test_services/__init__.py                        1      1     0%   7
fbs_app/tests/test_services/test_bi_service.py               192    192     0%   7-398
fbs_app/tests/test_services/test_compliance_service.py       181    181     0%   7-405
fbs_app/tests/test_services/test_notification_service.py     202    202     0%   7-441
fbs_app/tests/test_services/test_onboarding_service.py       185    185     0%   7-445
fbs_app/tests/test_services/test_workflow_service.py         170    170     0%   7-376
fbs_app/urls.py                                                7      7     0%   10-74
fbs_dms/__init__.py                                            3      0   100%
fbs_dms/admin.py                                              79     12    85%   68-74, 97, 157-160, 175, 205-207
fbs_dms/apps.py                                               10      0   100%
fbs_dms/models/__init__.py                                     4      0   100%
fbs_dms/models/document.py                                   106     23    78%   42, 46, 50-53, 81-83, 106, 204, 208-210, 214, 218, 222-224, 228-231
fbs_dms/models/file_attachment.py                             75     36    52%   60, 64-71, 75-80, 84, 88, 92, 96-97, 101, 105-113, 117, 121-135, 139-148, 152-156
fbs_dms/models/workflow.py                                    88     36    59%   52, 56, 60, 64-66, 70-79, 124, 128-135, 139-145, 149-160, 164, 168, 172, 176, 180, 184
fbs_dms/services/__init__.py                                   5      0   100%
fbs_dms/services/document_service.py                         256    214    16%   35-92, 101-134, 138-163, 167, 176-186, 195-209, 213, 217, 221, 225-231, 235-238, 242-245, 249-251, 260-268, 273-281, 286-293, 297-318, 322-325, 329-351, 356-360, 364-369, 373, 403-414, 418-440, 444-465, 476-499, 504-518, 523-537
fbs_dms/services/file_service.py                             105     84    20%   24, 33-49, 53-66, 70-87, 95-118, 125-148, 152-158, 162-173, 178-195, 200-207, 211-229
fbs_dms/services/search_service.py                           151    128    15%   25, 34-53, 61-85, 93-129, 137-173, 177-208, 212-245, 249-264, 268-277, 281-289, 293-305, 309-314
fbs_dms/services/workflow_service.py                         159    132    17%   25, 29-59, 63-88, 92-115, 119-143, 147-182, 186-195, 199-226, 232-242, 247-250, 254, 258-264, 268-274, 279-286, 291-298, 303-310
fbs_dms/setup.py                                              15     15     0%   8-27
fbs_dms/tests/__init__.py                                      3      3     0%   8-11
fbs_dms/tests/test_fbs_integration.py                         98     98     0%   7-252
fbs_dms/tests/test_models.py                                 142    142     0%   7-371
fbs_dms/urls.py                                                4      4     0%   7-41
fbs_dms/views/__init__.py                                      4      4     0%   7-10
fbs_dms/views/document_views.py                              167    167     0%   7-449
fbs_dms/views/file_views.py                                  100    100     0%   7-222
fbs_dms/views/search_views.py                                106    106     0%   7-224
fbs_dms/views/workflow_views.py                              120    120     0%   7-290
fbs_license_manager/__init__.py                                6      0   100%
fbs_license_manager/admin.py                                  72     39    46%   43-45, 49-51, 55-64, 82-109, 115, 119, 129, 133, 137
fbs_license_manager/apps.py                                   10      0   100%
fbs_license_manager/migrations/0001_initial.py                 6      6     0%   3-14
fbs_license_manager/migrations/__init__.py                     0      0   100%
fbs_license_manager/models.py                                205    123    40%   106, 111-130, 134-136, 140-143, 147-150, 154, 158-160, 164-172, 181-185, 189-199, 203-215, 219-230, 234-241, 245-252, 256-264, 268-270, 280-300, 333, 338, 346-356, 361-362, 374, 379-383, 388-417, 427, 432, 437-448
fbs_license_manager/services.py                              315    208    34%   41-50, 55-56, 61-64, 72-91, 117-158, 162, 185-187, 191-192, 196-204, 213-224, 228-247, 251-252, 256-268, 272-290, 294-296, 309, 315-318, 322-326, 334-383, 392-395, 399-408, 412-433, 437-448, 457-463, 467-474, 482-497, 504, 508-528, 532, 536-549, 553, 562, 571, 591-604, 630-642, 672, 689-691, 695-696, 700, 704-705, 709-717
fbs_license_manager/setup.py                                   4      4     0%   5-10
fbs_license_manager/tests/__init__.py                          2      2     0%   8-10
fbs_license_manager/tests/test_encryption.py                  32     32     0%   5-98
----------------------------------------------------------------------------------------
TOTAL                                                       8888   6739    24%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

Required test coverage of 15% reached. Total coverage: 24.18%
============================= slowest 20 durations =============================
3.23s setup    tests/test_basic_functionality.py::TestEndToEndBasics::test_complete_user_lifecycle
0.51s call     tests/test_basic_functionality.py::TestEndToEndBasics::test_complete_user_lifecycle
0.49s call     tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_licensed_workflow
0.49s call     tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_dms_workflow
0.48s call     tests/test_fbs_app_comprehensive.py::TestFBSAppEndToEnd::test_complete_business_workflow
0.48s call     tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_basic_fbs_workflow
0.47s call     tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_full_stack_workflow
0.03s setup    tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_basic_fbs_workflow
0.02s setup    tests/test_fbs_app_comprehensive.py::TestFBSAppEndToEnd::test_complete_business_workflow
0.01s teardown tests/test_fbs_app_comprehensive.py::TestFBSAppEndToEnd::test_complete_business_workflow
0.00s setup    tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_licensed_workflow
0.00s setup    tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_full_stack_workflow
0.00s setup    tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_dms_workflow
0.00s teardown tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_licensed_workflow
0.00s teardown tests/test_basic_functionality.py::TestEndToEndBasics::test_complete_user_lifecycle
0.00s teardown tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_basic_fbs_workflow
0.00s teardown tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_full_stack_workflow
0.00s teardown tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_dms_workflow
=========================== short test summary info ============================
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppEndToEnd::test_complete_business_workflow
================= 1 failed, 5 passed, 120 deselected in 11.35s =================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-7.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
django: settings: fbs_project.settings (from ini)
rootdir: /home/fayvad/pwa_android/fbs
configfile: pytest.ini
plugins: django-4.5.2, cov-4.1.0, Faker-37.4.0
collecting ... collected 126 items

tests/test_basic_functionality.py::TestBasicFunctionality::test_user_authentication PASSED [  0%]
tests/test_basic_functionality.py::TestBasicFunctionality::test_user_creation PASSED [  1%]
tests/test_basic_functionality.py::TestBasicFunctionality::test_user_properties PASSED [  2%]
tests/test_basic_functionality.py::TestIntegrationBasics::test_multiple_users PASSED [  3%]
tests/test_basic_functionality.py::TestIntegrationBasics::test_user_relationships PASSED [  3%]
tests/test_basic_functionality.py::TestEndToEndBasics::test_complete_user_lifecycle PASSED [  4%]
tests/test_basic_functionality.py::TestPerformanceBasics::test_bulk_user_creation PASSED [  5%]
tests/test_basic_functionality.py::TestSecurityBasics::test_password_security PASSED [  6%]
tests/test_basic_functionality.py::TestSecurityBasics::test_user_isolation PASSED [  7%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_app_only_configuration PASSED [  7%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_dms_configuration PASSED [  8%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_fbs_with_licensing_configuration PASSED [  9%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_full_stack_configuration PASSED [ 10%]
tests/test_cherry_picking_and_integration.py::TestCherryPickingScenarios::test_graceful_fallbacks PASSED [ 11%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_fbs_dms_integration PASSED [ 11%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_fbs_license_integration PASSED [ 12%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_full_stack_integration PASSED [ 13%]
tests/test_cherry_picking_and_integration.py::TestAppIntegrationScenarios::test_license_dms_integration PASSED [ 14%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_dms PASSED [ 15%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_fbs_only PASSED [ 15%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_database_routing_with_licensing PASSED [ 16%]
tests/test_cherry_picking_and_integration.py::TestDatabaseIsolationIntegration::test_solution_database_isolation PASSED [ 17%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_basic_fbs_workflow PASSED [ 18%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_dms_workflow PASSED [ 19%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_full_stack_workflow PASSED [ 19%]
tests/test_cherry_picking_and_integration.py::TestEndToEndWorkflows::test_licensed_workflow PASSED [ 20%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_fbs_only_performance PASSED [ 21%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_full_stack_performance PASSED [ 22%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_dms_performance PASSED [ 23%]
tests/test_cherry_picking_and_integration.py::TestPerformanceWithDifferentConfigurations::test_with_licensing_performance PASSED [ 23%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_fbs_only_security PASSED [ 24%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_full_stack_security PASSED [ 25%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_with_dms_security PASSED [ 26%]
tests/test_cherry_picking_and_integration.py::TestSecurityWithDifferentConfigurations::test_with_licensing_security PASSED [ 26%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_accounting_models_creation FAILED [ 27%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_bi_models_creation FAILED [ 28%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_compliance_models_creation FAILED [ 29%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_core_models_creation FAILED [ 30%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_discovery_models_creation FAILED [ 30%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_msme_models_creation FAILED [ 31%]
tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_workflow_models_creation FAILED [ 32%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_accounting_service FAILED [ 33%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_auth_service FAILED [ 34%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_bi_service FAILED [ 34%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_cache_service PASSED [ 35%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_compliance_service FAILED [ 36%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_msme_service FAILED [ 37%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_odoo_client FAILED [ 38%]
tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_workflow_service FAILED [ 38%]
tests/test_fbs_app_comprehensive.py::TestFBSAppInterfaces::test_fbs_interface_creation PASSED [ 39%]
tests/test_fbs_app_comprehensive.py::TestFBSAppInterfaces::test_interface_methods SKIPPED [ 40%]
tests/test_fbs_app_comprehensive.py::TestFBSAppMiddleware::test_database_routing_middleware FAILED [ 41%]
tests/test_fbs_app_comprehensive.py::TestFBSAppMiddleware::test_request_logging_middleware FAILED [ 42%]
tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_bi_dashboard_integration FAILED [ 42%]
tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_full_workflow_integration FAILED [ 43%]
tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_msme_setup_integration FAILED [ 44%]
tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_bulk_operations_performance FAILED [ 45%]
tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_query_performance FAILED [ 46%]
tests/test_fbs_app_comprehensive.py::TestFBSAppSecurity::test_data_isolation PASSED [ 46%]
tests/test_fbs_app_comprehensive.py::TestFBSAppSecurity::test_sql_injection_prevention PASSED [ 47%]
tests/test_fbs_app_comprehensive.py::TestFBSAppSecurity::test_xss_prevention PASSED [ 48%]
tests/test_fbs_app_comprehensive.py::TestFBSAppEndToEnd::test_complete_business_workflow FAILED [ 49%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_approval_request_model PASSED [ 50%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_approval_response_model PASSED [ 50%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_business_rule_model PASSED [ 51%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_cache_entry_model PASSED [ 52%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_custom_field_model PASSED [ 53%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_handshake_model PASSED [ 53%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_notification_model PASSED [ 54%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_odoo_database_model PASSED [ 55%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_request_log_model PASSED [ 56%]
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_token_mapping_model PASSED [ 57%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_analytics_model PASSED [ 57%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_compliance_model PASSED [ 58%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_kpi_model PASSED [ 59%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_marketing_model PASSED [ 60%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_setup_wizard_model PASSED [ 61%]
tests/test_fbs_app_models.py::TestFBSAppMSMEModels::test_msme_template_model PASSED [ 61%]
tests/test_fbs_app_models.py::TestFBSAppDiscoveryModels::test_discovery_session_model PASSED [ 62%]
tests/test_fbs_app_models.py::TestFBSAppDiscoveryModels::test_odoo_field_model PASSED [ 63%]
tests/test_fbs_app_models.py::TestFBSAppDiscoveryModels::test_odoo_model_model PASSED [ 64%]
tests/test_fbs_app_models.py::TestFBSAppDiscoveryModels::test_odoo_module_model PASSED [ 65%]
tests/test_fbs_app_models.py::TestFBSAppWorkflowModels::test_workflow_definition_model PASSED [ 65%]
tests/test_fbs_app_models.py::TestFBSAppWorkflowModels::test_workflow_instance_model PASSED [ 66%]
tests/test_fbs_app_models.py::TestFBSAppWorkflowModels::test_workflow_step_model PASSED [ 67%]
tests/test_fbs_app_models.py::TestFBSAppWorkflowModels::test_workflow_transition_model PASSED [ 68%]
tests/test_fbs_app_models.py::TestFBSAppBIModels::test_chart_model PASSED [ 69%]
tests/test_fbs_app_models.py::TestFBSAppBIModels::test_kpi_model PASSED  [ 69%]
tests/test_fbs_app_models.py::TestFBSAppBIModels::test_report_model PASSED [ 70%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_audit_trail_model PASSED [ 71%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_compliance_rule_model PASSED [ 72%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_recurring_transaction_model PASSED [ 73%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_report_schedule_model PASSED [ 73%]
tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_user_activity_log_model PASSED [ 74%]
tests/test_fbs_app_models.py::TestFBSAppAccountingModels::test_basic_ledger_model PASSED [ 75%]
tests/test_fbs_app_models.py::TestFBSAppAccountingModels::test_cash_entry_model PASSED [ 76%]
tests/test_fbs_app_models.py::TestFBSAppAccountingModels::test_income_expense_model PASSED [ 76%]
tests/test_fbs_app_models.py::TestFBSAppAccountingModels::test_tax_calculation_model PASSED [ 77%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_feature_usage_model FAILED [ 78%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_cache PASSED [ 79%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_class_methods PASSED [ 80%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_creation FAILED [ 80%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_encryption PASSED [ 81%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry FAILED [ 82%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_features PASSED [ 83%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_feature_flags_service PASSED [ 84%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_creation PASSED [ 84%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_feature_checking FAILED [ 85%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_license_info FAILED [ 86%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_odoo_integration PASSED [ 87%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_upgrade_prompts_service FAILED [ 88%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_encrypted_data_storage PASSED [ 88%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_encryption_key_derivation PASSED [ 89%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_license_key_encryption PASSED [ 90%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_malicious_input_handling FAILED [ 91%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_cache_integration FAILED [ 92%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_feature_usage_tracking_integration FAILED [ 92%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_license_workflow_integration FAILED [ 93%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_enterprise_solution_licensing FAILED [ 94%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_professional_solution_licensing FAILED [ 95%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_solution_upgrade_scenarios FAILED [ 96%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_trial_solution_licensing FAILED [ 96%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_bulk_license_creation_performance FAILED [ 97%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_cache_performance FAILED [ 98%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_feature_checking_performance FAILED [ 99%]
tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_license_lookup_performance PASSED [100%]

=================================== FAILURES ===================================
_______________ TestFBSAppModels.test_accounting_models_creation _______________
tests/test_fbs_app_comprehensive.py:405: in test_accounting_models_creation
    cash_entry = CashEntry.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: CashEntry() got unexpected keyword arguments: 'date', 'reference'
___________________ TestFBSAppModels.test_bi_models_creation ___________________
tests/test_fbs_app_comprehensive.py:320: in test_bi_models_creation
    report = Report.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: Report() got unexpected keyword arguments: 'schedule'
_______________ TestFBSAppModels.test_compliance_models_creation _______________
tests/test_fbs_app_comprehensive.py:352: in test_compliance_models_creation
    compliance_rule = ComplianceRule.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: ComplianceRule() got unexpected keyword arguments: 'rule_type', 'rule_definition', 'is_active'
__________________ TestFBSAppModels.test_core_models_creation __________________
tests/test_fbs_app_comprehensive.py:68: in test_core_models_creation
    odoo_db = OdooDatabase.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: OdooDatabase() got unexpected keyword arguments: 'database'
_______________ TestFBSAppModels.test_discovery_models_creation ________________
tests/test_fbs_app_comprehensive.py:229: in test_discovery_models_creation
    odoo_model = OdooModel.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: OdooModel() got unexpected keyword arguments: 'name'
__________________ TestFBSAppModels.test_msme_models_creation __________________
tests/test_fbs_app_comprehensive.py:169: in test_msme_models_creation
    msme_wizard = MSMESetupWizard.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: MSMESetupWizard() got unexpected keyword arguments: 'company_name', 'setup_stage', 'setup_data'
________________ TestFBSAppModels.test_workflow_models_creation ________________
tests/test_fbs_app_comprehensive.py:269: in test_workflow_models_creation
    workflow_def = WorkflowDefinition.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: WorkflowDefinition() got unexpected keyword arguments: 'definition'
__________________ TestFBSAppServices.test_accounting_service __________________
tests/test_fbs_app_comprehensive.py:580: in test_accounting_service
    accounting_service = SimpleAccountingService()
E   TypeError: SimpleAccountingService.__init__() missing 1 required positional argument: 'solution_name'
_____________________ TestFBSAppServices.test_auth_service _____________________
tests/test_fbs_app_comprehensive.py:472: in test_auth_service
    self.assertTrue(result['success'])
E   AssertionError: False is not true
----------------------------- Captured stderr call -----------------------------
Error creating token mapping: Invalid field name(s) for model OdooDatabase: 'active', 'base_url', 'display_name', 'odoo_db_name'.
______________________ TestFBSAppServices.test_bi_service ______________________
tests/test_fbs_app_comprehensive.py:548: in test_bi_service
    bi_service = BusinessIntelligenceService()
E   TypeError: BusinessIntelligenceService.__init__() missing 1 required positional argument: 'solution_name'
__________________ TestFBSAppServices.test_compliance_service __________________
tests/test_fbs_app_comprehensive.py:565: in test_compliance_service
    compliance_service = ComplianceService()
E   TypeError: ComplianceService.__init__() missing 1 required positional argument: 'solution_name'
_____________________ TestFBSAppServices.test_msme_service _____________________
tests/test_fbs_app_comprehensive.py:532: in test_msme_service
    msme_service = MSMEService()
E   TypeError: MSMEService.__init__() missing 1 required positional argument: 'solution_name'
_____________________ TestFBSAppServices.test_odoo_client ______________________
tests/test_fbs_app_comprehensive.py:498: in test_odoo_client
    odoo_client = OdooClient(
E   TypeError: OdooClient.__init__() got an unexpected keyword argument 'host'
___________________ TestFBSAppServices.test_workflow_service ___________________
tests/test_fbs_app_comprehensive.py:524: in test_workflow_service
    workflow = workflow_service.create_workflow(workflow_data)
E   AttributeError: 'WorkflowService' object has no attribute 'create_workflow'. Did you mean: 'execute_workflow'?
____________ TestFBSAppMiddleware.test_database_routing_middleware _____________
tests/test_fbs_app_comprehensive.py:634: in setUp
    self.middleware = DatabaseRoutingMiddleware()
E   TypeError: MiddlewareMixin.__init__() missing 1 required positional argument: 'get_response'
_____________ TestFBSAppMiddleware.test_request_logging_middleware _____________
tests/test_fbs_app_comprehensive.py:634: in setUp
    self.middleware = DatabaseRoutingMiddleware()
E   TypeError: MiddlewareMixin.__init__() missing 1 required positional argument: 'get_response'
_____________ TestFBSAppIntegration.test_bi_dashboard_integration ______________
tests/test_fbs_app_comprehensive.py:728: in test_bi_dashboard_integration
    kpi = KPI.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: KPI() got unexpected keyword arguments: 'calculation', 'target', 'current_value'
_____________ TestFBSAppIntegration.test_full_workflow_integration _____________
tests/test_fbs_app_comprehensive.py:673: in test_full_workflow_integration
    workflow_def = WorkflowDefinition.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: WorkflowDefinition() got unexpected keyword arguments: 'definition'
______________ TestFBSAppIntegration.test_msme_setup_integration _______________
tests/test_fbs_app_comprehensive.py:703: in test_msme_setup_integration
    msme_wizard = MSMESetupWizard.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: MSMESetupWizard() got unexpected keyword arguments: 'company_name', 'setup_stage', 'setup_data'
____________ TestFBSAppPerformance.test_bulk_operations_performance ____________
tests/test_fbs_app_comprehensive.py:778: in test_bulk_operations_performance
    log = RequestLog(
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: RequestLog() got unexpected keyword arguments: 'endpoint', 'response_status'
_________________ TestFBSAppPerformance.test_query_performance _________________
tests/test_fbs_app_comprehensive.py:806: in test_query_performance
    log = RequestLog.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: RequestLog() got unexpected keyword arguments: 'endpoint', 'response_status'
______________ TestFBSAppEndToEnd.test_complete_business_workflow ______________
tests/test_fbs_app_comprehensive.py:948: in test_complete_business_workflow
    msme_wizard = MSMESetupWizard.objects.create(
../../.local/lib/python3.10/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: MSMESetupWizard() got unexpected keyword arguments: 'company_name', 'setup_stage', 'setup_data'
______________ TestLicenseManagerModels.test_feature_usage_model _______________
tests/test_license_manager_comprehensive.py:228: in test_feature_usage_model
    usage1 = FeatureUsage.objects.using('licensing').create(
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: FeatureUsage() got unexpected keyword arguments: 'license', 'usage_type', 'usage_value', 'usage_date', 'user_id', 'context'
___________ TestLicenseManagerModels.test_solution_license_creation ____________
tests/test_license_manager_comprehensive.py:77: in test_solution_license_creation
    self.assertTrue(solution_license.is_active())
E   AttributeError: 'SolutionLicense' object has no attribute 'is_active'
____________ TestLicenseManagerModels.test_solution_license_expiry _____________
tests/test_license_manager_comprehensive.py:177: in test_solution_license_expiry
    self.assertTrue(expired_license.is_expired())
fbs_license_manager/models.py:185: in is_expired
    return timezone.now() > self.expiry_date
E   TypeError: can't compare offset-naive and offset-aware datetimes
_______ TestLicenseManagerServices.test_license_manager_feature_checking _______
tests/test_license_manager_comprehensive.py:379: in test_license_manager_feature_checking
    self.assertTrue(license_manager.is_feature_available('feature1'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
----------------------------- Captured stderr call -----------------------------
Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
------------------------------ Captured log call -------------------------------
ERROR    fbs_license_manager:services.py:654 Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
_________ TestLicenseManagerServices.test_license_manager_license_info _________
tests/test_license_manager_comprehensive.py:362: in test_license_manager_license_info
    self.assertEqual(license_info['license_type'], 'professional')
E   AssertionError: 'trial' != 'professional'
E   - trial
E   + professional
----------------------------- Captured stderr call -----------------------------
Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
------------------------------ Captured log call -------------------------------
ERROR    fbs_license_manager:services.py:654 Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
___________ TestLicenseManagerServices.test_upgrade_prompts_service ____________
tests/test_license_manager_comprehensive.py:426: in test_upgrade_prompts_service
    upgrade_prompts = UpgradePrompts(self.solution_name, None)  # No license manager needed for basic tests
E   TypeError: UpgradePrompts.__init__() takes 2 positional arguments but 3 were given
___________ TestLicenseManagerSecurity.test_malicious_input_handling ___________
tests/test_license_manager_comprehensive.py:568: in test_malicious_input_handling
    self.assertEqual(retrieved_license.license_key, malicious_key)
E   AssertionError: 'gAAAAABoqhdkQe0XthulnDvt9eLu3bkKea2l7eOX[120 chars]GQ==' != "'; DROP TABLE fbs_license_manager_solution_license; --"
E   - gAAAAABoqhdkQe0XthulnDvt9eLu3bkKea2l7eOXFFKfBdYkkWbQAmNexVzi1dWTzuLmtJ7tEng0eErClgp1LHk4-Juez5D96UTr60KHW3SLBHAzFruoPXbBGyPzv7x3S1b0qBeGsHShyETbVRTxnmLkWeGgTP1_GQ==
E   + '; DROP TABLE fbs_license_manager_solution_license; --

During handling of the above exception, another exception occurred:
tests/test_license_manager_comprehensive.py:576: in test_malicious_input_handling
    self.assertNotIn('DROP TABLE', str(e))
E   AssertionError: 'DROP TABLE' unexpectedly found in '\'gAAAAABoqhdkQe0XthulnDvt9eLu3bkKea2l7eOX[120 chars]GQ==\' != "\'; DROP TABLE fbs_license_manager_solution_license; --"\n- gAAAAABoqhdkQe0XthulnDvt9eLu3bkKea2l7eOXFFKfBdYkkWbQAmNexVzi1dWTzuLmtJ7tEng0eErClgp1LHk4-Juez5D96UTr60KHW3SLBHAzFruoPXbBGyPzv7x3S1b0qBeGsHShyETbVRTxnmLkWeGgTP1_GQ==\n+ \'; DROP TABLE fbs_license_manager_solution_license; --\n'
_____________ TestLicenseManagerIntegration.test_cache_integration _____________
tests/test_license_manager_comprehensive.py:662: in test_cache_integration
    self.assertIsNotNone(cached_data)
E   AssertionError: unexpectedly None
____ TestLicenseManagerIntegration.test_feature_usage_tracking_integration _____
tests/test_license_manager_comprehensive.py:685: in test_feature_usage_tracking_integration
    usage = FeatureUsage.objects.using('licensing').create(
../../.local/lib/python3.10/site-packages/django/db/models/query.py:656: in create
    obj = self.model(**kwargs)
../../.local/lib/python3.10/site-packages/django/db/models/base.py:567: in __init__
    raise TypeError(
E   TypeError: FeatureUsage() got unexpected keyword arguments: 'license', 'usage_type', 'usage_value', 'usage_date', 'user_id', 'context'
_______ TestLicenseManagerIntegration.test_license_workflow_integration ________
tests/test_license_manager_comprehensive.py:631: in test_license_workflow_integration
    self.assertTrue(license_manager.is_feature_available('feature1'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
----------------------------- Captured stderr call -----------------------------
Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
------------------------------ Captured log call -------------------------------
ERROR    fbs_license_manager:services.py:654 Failed to get license info: The connection 'djo_test_solution_db' doesn't exist.
______ TestLicenseManagerCherryPicking.test_enterprise_solution_licensing ______
tests/test_license_manager_comprehensive.py:832: in test_enterprise_solution_licensing
    self.assertTrue(license_manager.is_feature_available('basic_feature'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
_____ TestLicenseManagerCherryPicking.test_professional_solution_licensing _____
tests/test_license_manager_comprehensive.py:809: in test_professional_solution_licensing
    self.assertTrue(license_manager.is_feature_available('basic_feature'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
_______ TestLicenseManagerCherryPicking.test_solution_upgrade_scenarios ________
tests/test_license_manager_comprehensive.py:857: in test_solution_upgrade_scenarios
    self.assertFalse(trial_license_manager.is_feature_available('advanced_feature'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
________ TestLicenseManagerCherryPicking.test_trial_solution_licensing _________
tests/test_license_manager_comprehensive.py:783: in test_trial_solution_licensing
    self.assertTrue(license_manager.is_feature_available('basic_feature'))
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
_____ TestLicenseManagerPerformance.test_bulk_license_creation_performance _____
tests/test_license_manager_comprehensive.py:946: in test_bulk_license_creation_performance
    self.assertLess(duration, 10.0)  # Should complete within 10 seconds
E   AssertionError: 10.39047622680664 not less than 10.0
_____________ TestLicenseManagerPerformance.test_cache_performance _____________
tests/test_license_manager_comprehensive.py:1011: in test_cache_performance
    license_manager.is_feature_available('feature1')
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
_______ TestLicenseManagerPerformance.test_feature_checking_performance ________
tests/test_license_manager_comprehensive.py:985: in test_feature_checking_performance
    license_manager.is_feature_available('feature1')
E   AttributeError: 'LicenseManager' object has no attribute 'is_feature_available'
=============================== warnings summary ===============================
tests/test_fbs_app_models.py::TestFBSAppCoreModels::test_handshake_model
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField Handshake.expires_at received a naive datetime (2025-08-24 19:32:31.049333) while time zone support is active.
    warnings.warn(

tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_report_schedule_model
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField ReportSchedule.next_run received a naive datetime (2025-09-22 19:32:40.667792) while time zone support is active.
    warnings.warn(

tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_creation
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField SolutionLicense.expiry_date received a naive datetime (2026-08-23 19:32:44.397382) while time zone support is active.
    warnings.warn(

tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField SolutionLicense.expiry_date received a naive datetime (2025-08-22 19:32:45.645781) while time zone support is active.
    warnings.warn(

tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry
  /home/fayvad/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py:1595: RuntimeWarning: DateTimeField SolutionLicense.expiry_date received a naive datetime (2026-08-23 19:32:45.731093) while time zone support is active.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html

---------- coverage: platform linux, python 3.10.12-final-0 ----------
Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
fbs_app/__init__.py                                            3      0   100%
fbs_app/admin.py                                             241      0   100%
fbs_app/admin_urls.py                                          4      4     0%   7-12
fbs_app/apps.py                                               15      1    93%   15
fbs_app/auth_views.py                                        176    176     0%   7-370
fbs_app/config_template.py                                     5      5     0%   9-85
fbs_app/context_processors.py                                  4      4     0%   7-14
fbs_app/dashboard_urls.py                                      4      4     0%   7-12
fbs_app/health_views.py                                       59     59     0%   7-146
fbs_app/interfaces.py                                        321    168    48%   57-59, 63, 67, 71, 75, 79, 83, 87, 91, 95, 99, 103, 107, 114-116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 175-177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 220-222, 226, 230, 234, 238, 242, 246, 250, 254, 258, 265-267, 271, 275, 279, 283, 287, 291, 295, 299, 303, 310-312, 316, 320, 324, 328, 332, 336, 340, 344, 359, 363, 367, 372, 376, 380, 384, 388, 393, 397, 404-406, 412, 419, 424, 429, 435, 442, 449-451, 455, 460, 464, 468, 472, 479-481, 486, 498, 508, 518, 522, 527, 531, 535, 539, 555-559, 567, 570, 573, 576, 579, 582, 585, 588, 591-602, 606, 625, 645-648, 659, 670-673, 683-691, 695-698, 710-718, 724
fbs_app/management/__init__.py                                 0      0   100%
fbs_app/management/commands/__init__.py                        0      0   100%
fbs_app/management/commands/cleanup.py                       182    182     0%   5-347
fbs_app/management/commands/create_token.py                   43     43     0%   7-87
fbs_app/management/commands/generate_services.py              80     80     0%   5-208
fbs_app/management/commands/install_solution.py              127    127     0%   5-310
fbs_app/middleware/__init__.py                                 3      0   100%
fbs_app/middleware/database_routing.py                       122    110    10%   20-150, 154-161, 166-170, 174-176, 180-182, 186-189, 198-214
fbs_app/middleware/request_logging.py                         46     36    22%   20-25, 29-71, 75-115, 119-124
fbs_app/models/__init__.py                                     8      0   100%
fbs_app/models/accounting.py                                 109      4    96%   59, 106, 141, 188
fbs_app/models/bi.py                                          83      4    95%   41, 83, 129, 162
fbs_app/models/compliance.py                                  88      5    94%   46, 88, 118, 156, 180
fbs_app/models/core.py                                       208     41    80%   39, 58, 95, 124, 146, 177, 219, 263, 285, 325, 331-360, 366-393
fbs_app/models/discovery.py                                   93      4    96%   46, 78, 113, 148
fbs_app/models/msme.py                                       100      6    94%   36, 66, 102, 132, 162, 186
fbs_app/models/workflows.py                                   79      4    95%   46, 81, 115, 143
fbs_app/routers.py                                            93     38    59%   19, 25-31, 35-39, 51-54, 65, 71-77, 81-85, 97-100, 104, 130-134, 147, 154
fbs_app/services/__init__.py                                  16      0   100%
fbs_app/services/auth_service.py                              96     73    24%   26-62, 70-124, 132-155, 163-195, 203-227, 252-267
fbs_app/services/bi_service.py                               327    292    11%   22-23, 28-51, 55-82, 86-112, 116-130, 135-158, 162-189, 193-229, 234-264, 268-295, 299-321, 326-352, 356-384, 389-404, 410, 422, 434, 449-479, 487-551, 558-605, 613-657, 664-694, 701-714, 718-725, 729-780, 784-810, 814-846
fbs_app/services/business_logic_service.py                   148    132    11%   22-58, 67-110, 115-177, 186-240, 248-288
fbs_app/services/cache_service.py                            187    142    24%   29, 38-40, 45, 52-54, 59, 65-67, 71-93, 97-106, 110-120, 124-138, 142-151, 155-164, 168-178, 182-214, 222-231, 235-261, 265-285
fbs_app/services/compliance_service.py                       222    193    13%   21-22, 26-61, 66-96, 101-122, 126-156, 161-185, 189-237, 241-274, 278-323, 330-371, 376-403, 407-435, 439-465, 469-493, 497-526, 530-544, 549, 554, 558, 569, 580
fbs_app/services/database_service.py                         173    153    12%   31-51, 57-60, 77-87, 100-111, 124-167, 183-226, 242-279, 297-350, 371-412, 431-484, 497-554
fbs_app/services/discovery_service.py                        101     82    19%   26-68, 76-108, 116-158, 166-199, 207-240, 248-267, 271-287, 291-304
fbs_app/services/field_merger_service.py                     156    129    17%   34-47, 64-91, 108-138, 155-179, 194-205, 224-246, 264-290, 307-330, 346-367, 384-413, 429-469
fbs_app/services/msme_service.py                             105     89    15%   20-21, 25-62, 66-97, 101-127, 135-163, 167-191, 195-222, 226-252, 256-277
fbs_app/services/notification_service.py                     161    139    14%   20-25, 34-93, 100-131, 135-168, 172-205, 209-242, 246-267, 271-289, 293-319, 324-350, 354-375, 379-387, 391-404, 408-433, 437-468
fbs_app/services/odoo_client.py                              165    133    19%   39-50, 58-75, 79, 85-98, 108-154, 163-192, 200-227, 236-263, 271-298, 308-338, 346-366, 375-396, 404-424
fbs_app/services/onboarding_service.py                       182    159    13%   21, 26-66, 70-140, 144-169, 173-198, 202-228, 232-257, 262-272, 276-280, 285-316, 320-349, 353-386, 390-425, 429-468, 472-519
fbs_app/services/service_generator.py                        143    130     9%   18-19, 24-47, 57-321, 325, 337-365, 372-381, 388-402, 409-417
fbs_app/services/simple_accounting_service.py                146    129    12%   21-22, 27-59, 64-108, 114-146, 150-223, 228-265, 269-294, 298-341, 345-390
fbs_app/services/workflow_service.py                         266    236    11%   26-82, 90-155, 164-193, 201-229, 237-247, 252-269, 277-297, 301-318, 323-350, 358-366, 374-381, 385-392, 397-427, 431-459, 463-496, 500-526, 530-563, 567-590, 594-624, 628-657, 661-686
fbs_app/signals.py                                           130    123     5%   24-250
fbs_app/tests/__init__.py                                      0      0   100%
fbs_app/tests/conftest.py                                    111    111     0%   12-222
fbs_app/tests/run_all_tests.py                               115    115     0%   15-238
fbs_app/tests/test_interfaces.py                              75     75     0%   8-118
fbs_app/tests/test_models.py                                 177    177     0%   12-516
fbs_app/tests/test_services/__init__.py                        1      1     0%   7
fbs_app/tests/test_services/test_bi_service.py               192    192     0%   7-398
fbs_app/tests/test_services/test_compliance_service.py       181    181     0%   7-405
fbs_app/tests/test_services/test_notification_service.py     202    202     0%   7-441
fbs_app/tests/test_services/test_onboarding_service.py       185    185     0%   7-445
fbs_app/tests/test_services/test_workflow_service.py         170    170     0%   7-376
fbs_app/urls.py                                                7      7     0%   10-74
fbs_dms/__init__.py                                            3      0   100%
fbs_dms/admin.py                                              79     12    85%   68-74, 97, 157-160, 175, 205-207
fbs_dms/apps.py                                               10      0   100%
fbs_dms/models/__init__.py                                     4      0   100%
fbs_dms/models/document.py                                   106     23    78%   42, 46, 50-53, 81-83, 106, 204, 208-210, 214, 218, 222-224, 228-231
fbs_dms/models/file_attachment.py                             75     36    52%   60, 64-71, 75-80, 84, 88, 92, 96-97, 101, 105-113, 117, 121-135, 139-148, 152-156
fbs_dms/models/workflow.py                                    88     36    59%   52, 56, 60, 64-66, 70-79, 124, 128-135, 139-145, 149-160, 164, 168, 172, 176, 180, 184
fbs_dms/services/__init__.py                                   5      0   100%
fbs_dms/services/document_service.py                         256    214    16%   35-92, 101-134, 138-163, 167, 176-186, 195-209, 213, 217, 221, 225-231, 235-238, 242-245, 249-251, 260-268, 273-281, 286-293, 297-318, 322-325, 329-351, 356-360, 364-369, 373, 403-414, 418-440, 444-465, 476-499, 504-518, 523-537
fbs_dms/services/file_service.py                             105     84    20%   24, 33-49, 53-66, 70-87, 95-118, 125-148, 152-158, 162-173, 178-195, 200-207, 211-229
fbs_dms/services/search_service.py                           151    128    15%   25, 34-53, 61-85, 93-129, 137-173, 177-208, 212-245, 249-264, 268-277, 281-289, 293-305, 309-314
fbs_dms/services/workflow_service.py                         159    132    17%   25, 29-59, 63-88, 92-115, 119-143, 147-182, 186-195, 199-226, 232-242, 247-250, 254, 258-264, 268-274, 279-286, 291-298, 303-310
fbs_dms/setup.py                                              15     15     0%   8-27
fbs_dms/tests/__init__.py                                      3      3     0%   8-11
fbs_dms/tests/test_fbs_integration.py                         98     98     0%   7-252
fbs_dms/tests/test_models.py                                 142    142     0%   7-371
fbs_dms/urls.py                                                4      4     0%   7-41
fbs_dms/views/__init__.py                                      4      4     0%   7-10
fbs_dms/views/document_views.py                              167    167     0%   7-449
fbs_dms/views/file_views.py                                  100    100     0%   7-222
fbs_dms/views/search_views.py                                106    106     0%   7-224
fbs_dms/views/workflow_views.py                              120    120     0%   7-290
fbs_license_manager/__init__.py                                6      0   100%
fbs_license_manager/admin.py                                  72     39    46%   43-45, 49-51, 55-64, 82-109, 115, 119, 129, 133, 137
fbs_license_manager/apps.py                                   10      0   100%
fbs_license_manager/migrations/0001_initial.py                 6      6     0%   3-14
fbs_license_manager/migrations/__init__.py                     0      0   100%
fbs_license_manager/models.py                                205     61    70%   106, 114-115, 120-121, 142-143, 149-150, 182, 189-199, 236, 239-241, 247, 250-252, 258, 269, 300, 333, 338, 346-356, 361-362, 374, 379-383, 388-417, 427, 432, 437-448
fbs_license_manager/services.py                              315    197    37%   55-56, 72-91, 117-158, 162, 185-187, 191-192, 196-204, 213-224, 228-247, 251-252, 256-268, 272-290, 294-296, 309, 315-318, 322-326, 334-383, 392-395, 399-408, 412-433, 437-448, 457-463, 467-474, 482-497, 504, 508-528, 532, 536-549, 553, 562, 571, 591-604, 630-631, 642, 689-691, 700, 704-705, 709-717
fbs_license_manager/setup.py                                   4      4     0%   5-10
fbs_license_manager/tests/__init__.py                          2      2     0%   8-10
fbs_license_manager/tests/test_encryption.py                  32     32     0%   5-98
----------------------------------------------------------------------------------------
TOTAL                                                       8888   6620    26%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

FAIL Required test coverage of 80% not reached. Total coverage: 25.52%
============================= slowest 20 durations =============================
17.96s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_bulk_license_creation_performance
10.01s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_license_lookup_performance
9.23s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_feature_checking_performance
8.69s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_cache_performance
5.84s call     tests/test_basic_functionality.py::TestPerformanceBasics::test_bulk_user_creation
4.77s setup    tests/test_basic_functionality.py::TestBasicFunctionality::test_user_authentication
1.41s call     tests/test_basic_functionality.py::TestSecurityBasics::test_password_security
1.18s call     tests/test_fbs_app_comprehensive.py::TestFBSAppSecurity::test_data_isolation
1.12s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_class_methods
1.11s call     tests/test_basic_functionality.py::TestIntegrationBasics::test_multiple_users
1.10s call     tests/test_basic_functionality.py::TestBasicFunctionality::test_user_creation
0.99s call     tests/test_basic_functionality.py::TestIntegrationBasics::test_user_relationships
0.98s call     tests/test_basic_functionality.py::TestSecurityBasics::test_user_isolation
0.97s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_encrypted_data_storage
0.89s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_enterprise_solution_licensing
0.77s call     tests/test_fbs_app_models.py::TestFBSAppComplianceModels::test_audit_trail_model
0.73s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_trial_solution_licensing
0.72s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_professional_solution_licensing
0.71s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_solution_upgrade_scenarios
0.69s call     tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_license_workflow_integration
=========================== short test summary info ============================
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_accounting_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_bi_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_compliance_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_core_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_discovery_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_msme_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppModels::test_workflow_models_creation
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_accounting_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_auth_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_bi_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_compliance_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_msme_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_odoo_client
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppServices::test_workflow_service
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppMiddleware::test_database_routing_middleware
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppMiddleware::test_request_logging_middleware
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_bi_dashboard_integration
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_full_workflow_integration
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppIntegration::test_msme_setup_integration
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_bulk_operations_performance
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppPerformance::test_query_performance
FAILED tests/test_fbs_app_comprehensive.py::TestFBSAppEndToEnd::test_complete_business_workflow
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_feature_usage_model
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_creation
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerModels::test_solution_license_expiry
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_feature_checking
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_license_manager_license_info
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerServices::test_upgrade_prompts_service
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerSecurity::test_malicious_input_handling
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_cache_integration
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_feature_usage_tracking_integration
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerIntegration::test_license_workflow_integration
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_enterprise_solution_licensing
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_professional_solution_licensing
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_solution_upgrade_scenarios
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerCherryPicking::test_trial_solution_licensing
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_bulk_license_creation_performance
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_cache_performance
FAILED tests/test_license_manager_comprehensive.py::TestLicenseManagerPerformance::test_feature_checking_performance
======= 39 failed, 86 passed, 1 skipped, 5 warnings in 137.17s (0:02:17) =======
🚀 Starting Comprehensive Test Suite for FBS Project
================================================================================

📋 Phase 1: Unit Tests

================================================================================
Running: Unit Tests (All Apps)
Command: python -m pytest tests/ -m unit --tb=short -v --durations=10
================================================================================


❌ Unit Tests (All Apps) failed with exit code 1

📋 Phase 2: Integration Tests

================================================================================
Running: Integration Tests (All Apps)
Command: python -m pytest tests/ -m integration --tb=short -v --durations=10
================================================================================


❌ Integration Tests (All Apps) failed with exit code 1

📋 Phase 3: App-Specific Tests

================================================================================
Running: Fbs_App App Tests
Command: python -m pytest tests/test_fbs_app_*.py --tb=short -v --durations=10
================================================================================


❌ Fbs_App App Tests failed with exit code 4

================================================================================
Running: License_Manager App Tests
Command: python -m pytest tests/test_license_manager_*.py --tb=short -v --durations=10
================================================================================


❌ License_Manager App Tests failed with exit code 4

================================================================================
Running: Dms App Tests
Command: python -m pytest tests/test_dms_*.py --tb=short -v --durations=10
================================================================================


❌ Dms App Tests failed with exit code 4

📋 Phase 4: Cherry-Picking Tests

================================================================================
Running: Cherry-Picking Tests
Command: python -m pytest tests/ -m cherry_picking --tb=short -v --durations=10
================================================================================


❌ Cherry-Picking Tests failed with exit code 1

📋 Phase 5: Isolation Architecture Tests

================================================================================
Running: Isolation Architecture Tests
Command: python -m pytest tests/ -m isolation --tb=short -v --durations=10
================================================================================


✅ Isolation Architecture Tests completed successfully!

📋 Phase 6: Performance Tests

================================================================================
Running: Performance Tests
Command: python -m pytest tests/ -m performance --tb=short -v --durations=20
================================================================================


❌ Performance Tests failed with exit code 1

📋 Phase 7: Security Tests

================================================================================
Running: Security Tests
Command: python -m pytest tests/ -m security --tb=short -v --durations=10
================================================================================


❌ Security Tests failed with exit code 1

📋 Phase 8: End-to-End Tests

================================================================================
Running: End-to-End Tests
Command: python -m pytest tests/ -m e2e --tb=short -v --durations=20
================================================================================


❌ End-to-End Tests failed with exit code 1

📋 Phase 9: Coverage Report

================================================================================
Running: All Tests with Coverage
Command: python -m pytest tests/ --cov=fbs_app --cov=fbs_license_manager --cov=fbs_dms --cov-report=html --cov-report=term-missing --cov-report=xml --cov-fail-under=80 --tb=short -v --durations=20
================================================================================


❌ All Tests with Coverage failed with exit code 1

================================================================================
📊 COMPREHENSIVE TEST SUITE RESULTS
================================================================================
Unit Tests: ❌ FAIL
Integration Tests: ❌ FAIL
Fbs App Tests: ❌ FAIL
License Manager Tests: ❌ FAIL
Dms Tests: ❌ FAIL
Cherry Picking Tests: ❌ FAIL
Isolation Tests: ✅ PASS
Performance Tests: ❌ FAIL
Security Tests: ❌ FAIL
E2E Tests: ❌ FAIL
Coverage Tests: ❌ FAIL

⏱️  Total Duration: 343.72 seconds
📈 Success Rate: 1/11 (9.1%)
❌ POOR! Test suite needs attention.
